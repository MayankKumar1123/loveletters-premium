(this.webpackJsonpgame=this.webpackJsonpgame||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a(84)},,,,,function(e,t,a){},function(e,t,a){var n={"./Assassin.jpeg":40,"./Baron.jpeg":41,"./Baroness.jpeg":42,"./Bishop.jpeg":43,"./Cardinal.jpeg":44,"./Constable.jpeg":45,"./Count.jpeg":46,"./Countess.jpeg":47,"./Dowager Queen.jpeg":48,"./Guard.jpeg":49,"./Handmaid.jpeg":50,"./Jester.jpeg":51,"./King.jpeg":52,"./Priest.jpeg":53,"./Prince.jpeg":54,"./Princess.jpeg":55,"./Sycophant.jpeg":56,"./loading_card.jpeg":57};function s(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id=39},function(e,t,a){e.exports=a.p+"static/media/Assassin.378bfb5f.jpeg"},function(e,t,a){e.exports=a.p+"static/media/Baron.746fcb29.jpeg"},function(e,t,a){e.exports=a.p+"static/media/Baroness.9412a60f.jpeg"},function(e,t,a){e.exports=a.p+"static/media/Bishop.dc3946bc.jpeg"},function(e,t,a){e.exports=a.p+"static/media/Cardinal.25c40e09.jpeg"},function(e,t,a){e.exports=a.p+"static/media/Constable.30fe3a5c.jpeg"},function(e,t,a){e.exports=a.p+"static/media/Count.33b17be7.jpeg"},function(e,t,a){e.exports=a.p+"static/media/Countess.b39b3239.jpeg"},function(e,t,a){e.exports=a.p+"static/media/Dowager Queen.f88d1e27.jpeg"},function(e,t,a){e.exports=a.p+"static/media/Guard.d9e4ee43.jpeg"},function(e,t,a){e.exports=a.p+"static/media/Handmaid.2184414b.jpeg"},function(e,t,a){e.exports=a.p+"static/media/Jester.c3c265f4.jpeg"},function(e,t,a){e.exports=a.p+"static/media/King.49f2efa9.jpeg"},function(e,t,a){e.exports=a.p+"static/media/Priest.79047ce6.jpeg"},function(e,t,a){e.exports=a.p+"static/media/Prince.84d1cfb6.jpeg"},function(e,t,a){e.exports=a.p+"static/media/Princess.dbe5ffb7.jpeg"},function(e,t,a){e.exports=a.p+"static/media/Sycophant.67d055f9.jpeg"},function(e,t,a){e.exports=a.p+"static/media/loading_card.e650822c.jpeg"},function(e,t,a){var n={"./miniAssassin.png":59,"./miniBaron.png":60,"./miniBaroness.png":61,"./miniBishop.png":62,"./miniCardinal.png":63,"./miniConstable.png":64,"./miniCount.png":65,"./miniCountess.png":66,"./miniDowager Queen.png":67,"./miniGuard.png":68,"./miniHandmaid.png":69,"./miniJester.png":70,"./miniKing.png":71,"./miniPriest.png":72,"./miniPrince.png":73,"./miniPrincess.png":74,"./miniSycophant.png":75};function s(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id=58},function(e,t,a){e.exports=a.p+"static/media/miniAssassin.19d24654.png"},function(e,t,a){e.exports=a.p+"static/media/miniBaron.dc131462.png"},function(e,t,a){e.exports=a.p+"static/media/miniBaroness.d9ca5cc6.png"},function(e,t,a){e.exports=a.p+"static/media/miniBishop.c0a4c1f4.png"},function(e,t,a){e.exports=a.p+"static/media/miniCardinal.d829f3c8.png"},function(e,t,a){e.exports=a.p+"static/media/miniConstable.51374d4c.png"},function(e,t,a){e.exports=a.p+"static/media/miniCount.18bdc837.png"},function(e,t,a){e.exports=a.p+"static/media/miniCountess.bd301fa1.png"},function(e,t,a){e.exports=a.p+"static/media/miniDowager Queen.b7ec745b.png"},function(e,t,a){e.exports=a.p+"static/media/miniGuard.9421d3f3.png"},function(e,t,a){e.exports=a.p+"static/media/miniHandmaid.1b2f890b.png"},function(e,t,a){e.exports=a.p+"static/media/miniJester.0c0b3d7e.png"},function(e,t,a){e.exports=a.p+"static/media/miniKing.fd38d7a6.png"},function(e,t,a){e.exports=a.p+"static/media/miniPriest.91e45564.png"},function(e,t,a){e.exports=a.p+"static/media/miniPrince.aeed87fd.png"},function(e,t,a){e.exports=a.p+"static/media/miniPrincess.6d4e2eed.png"},function(e,t,a){e.exports=a.p+"static/media/miniSycophant.c14aaac9.png"},,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(25),l=a.n(r),i=(a(38),a(7)),c=a(8),o=a(3),u=a(10),d=a(9),m=(a(14),a(16),a(11)),p=a(13),g=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).clickCard=function(){a.setState({opacity:.9})},a.state={selected:1},a.clickCard=a.clickCard.bind(Object(o.a)(a)),a}return Object(c.a)(n,[{key:"getCard",value:function(){return a(39)("./"+this.props.cardname+".jpeg")}},{key:"render",value:function(){return s.a.createElement(p.a,{onClick:this.clickCard,className:"Card-design"},s.a.createElement(p.a.Body,{style:{padding:0}},s.a.createElement(m.a,{className:"card-button",variant:"info"},s.a.createElement(p.a.Img,{src:this.getCard()}))))}}]),n}(s.a.Component),y=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"getCard",value:function(e){return a(58)("./mini"+e+".png")}},{key:"render",value:function(){var e=this,t=[];return void 0!==this.props.allCardsDiscarded&&(t=this.props.allCardsDiscarded),s.a.createElement("div",{className:"Card-carousel"},t.map((function(t){return s.a.createElement("div",{key:t},s.a.createElement(p.a,{style:{width:"3rem",marginLeft:"2px"}},s.a.createElement(p.a.Body,{style:{padding:0}},s.a.createElement(p.a.Img,{src:e.getCard(t)}))))})))}}]),n}(s.a.Component),h=a(15),f=a(12),b=a(85),E=a(86),v=a(17),C=a(18),k=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={selectedPlayers:n.props.syco,selectionSatisfied:!1,selectedNumber:-1,num_disabled_players:n.props.immune.length+n.props.eliminated.length,num_players:Object.keys(n.props.all_players).length},n.selectPlayer=n.selectPlayer.bind(Object(o.a)(n)),n.selectNumber=n.selectNumber.bind(Object(o.a)(n)),n.endPlay=n.endPlay.bind(Object(o.a)(n)),n.getList=n.getList.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"selectPlayer",value:function(e,t){var a=this.state.selectedPlayers,n=0;"single"===e?this.state.num_disabled_players===this.state.num_players-1&&"Prince"!==this.props.cardPlayed&&"Sycophant"!==this.props.cardPlayed?this.setState({selectionSatisfied:!0}):(0===this.props.syco.length&&(a=[t]),"Guard"!==this.props.cardPlayed&&"Bishop"!==this.props.cardPlayed?this.setState({selectionSatisfied:!0,selectedPlayers:a}):this.setState({selectedPlayers:a})):((0===this.props.syco.length||!this.props.syco.indexOf(t)>=0)&&(void 0!==(n=a.indexOf(t))&&n>=0?a.splice(n,1):a=a.concat(t)),"double"===e?this.state.num_disabled_players===this.state.num_players-1||this.state.num_disabled_players>=this.state.num_players-2&&"Cardinal"!==this.props.cardPlayed?this.setState({selectionSatisfied:!0}):2===a.length?this.setState({selectionSatisfied:!0,selectedPlayers:a}):this.setState({selectionSatisfied:!1,selectedPlayers:a}):this.state.num_disabled_players===this.state.num_players-1?this.setState({selectionSatisfied:!0}):1===a.length||2===a.length?this.setState({selectionSatisfied:!0,selectedPlayers:a}):this.setState({selectionSatisfied:!1,selectedPlayers:a})),console.log("selected player ids:"+a)}},{key:"selectNumber",value:function(e){this.setState({selectionSatisfied:!0,selectedNumber:e}),console.log("selected number:"+e)}},{key:"endPlay",value:function(){var e={type:"discard"};e.player=this.props.currentPlayer,e.card=this.props.cardPlayed,e.player1=null,e.player2=null,e.number=null,this.state.selectedPlayers.length>0&&(e.player1=this.state.selectedPlayers[0]),this.state.selectedPlayers.length>1&&(e.player2=this.state.selectedPlayers[1]),-1!==this.state.selectedNumber&&(e.number=this.state.selectedNumber),console.log("sending to round=",e),this.props.roundCallback(e)}},{key:"getList",value:function(){var e=this,t=null;if(["Assassin","Constable","Count","Countess","Handmaid","Princess"].indexOf(this.props.cardPlayed)>=0)t=null,console.log("list is null");else{var a="Prince"===this.props.cardPlayed||"Sycophant"===this.props.cardPlayed||"Cardinal"===this.props.cardPlayed,n="",r=!1,l=!1,i=!1;n="Baroness"===this.props.cardPlayed?"either":"Cardinal"===this.props.cardPlayed?"double":"single",t=s.a.createElement(f.a,null,Object.entries(this.props.all_players).map((function(t){var c=Object(h.a)(t,2),o=c[0],u=c[1];return r=e.props.immune.indexOf(o)>=0,l=e.props.syco.indexOf(o)>=0,i=e.props.eliminated.indexOf(o)>=0,s.a.createElement(f.a.Item,{className:"List-item-design",variant:e.state.selectedPlayers.indexOf(o)>=0?"dark":"light",key:o,disabled:!a&&o===e.props.currentPlayer||r||i,onClick:function(t){return e.selectPlayer(n,o,t)}},u,r?s.a.createElement(v.a,{style:{float:"right"},icon:C.c}):l?s.a.createElement(v.a,{style:{float:"right"},icon:C.a}):i?s.a.createElement(v.a,{style:{float:"right"},icon:C.d}):s.a.createElement("div",null))})))}return t}},{key:"render",value:function(){var e=this,t=this.getList();return null!=t?(console.log("RENDER: PlayCard for @"+this.props.currentPlayer),s.a.createElement("div",{style:{margin:"auto"}},s.a.createElement(b.a,{style:{justifyContent:"center"}},s.a.createElement(E.a,null,t),"Guard"===this.props.cardPlayed||"Bishop"===this.props.cardPlayed?s.a.createElement(E.a,null,s.a.createElement(f.a,null,[1,2,3,4,5,6,7,8,9].map((function(t,a){return s.a.createElement(f.a.Item,{className:"List-item-design",variant:e.state.selectedNumber===t?"dark":"light",key:t,disabled:1===t,onClick:function(a){return e.selectNumber(t,a)}},t)})))):s.a.createElement("div",null)),s.a.createElement(b.a,{style:{width:"50vw",paddingTop:"10px",margin:"auto"}},s.a.createElement(m.a,{size:"lg",block:!0,className:"Confirm-button",disabled:!this.state.selectionSatisfied,onClick:this.endPlay},"OK")))):(console.log("RENDER: PlayCard for a non-choice card for @"+this.props.currentPlayer),s.a.createElement("div",null,this.endPlay()))}}]),a}(s.a.Component),P=a(87),j=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).discard=function(){n.setState({playMode:1,discard_pile:n.state.discard_pile.concat(n.state.cardToPlay)}),console.log(n.props.all_players[n.state.currentPlayer]+" is discarding "+n.state.cardToPlay)},n.endTurn=function(){null!==n.state.results.roundWinner?(console.log("We have a round winner"),n.props.gameCallback(n.state.results),console.log("Round winner sent to Game")):(console.log("No round winner yet"),n.props.socket.send(JSON.stringify({type:"nextTurn"})),console.log("sent nextTurn for @"+n.props.username))},n.endTurnByButton=function(){n.setState({turnEnded:!0}),n.endTurn()},n.playCardCallback=function(e){n.props.socket.send(JSON.stringify(e)),console.log("sent played values from Round for @"+n.props.username)},n.state={cardToPlay:" ",cardRemaining:" ",playMode:0,currentPlayer:" ",playStatus:" ",results:{},currentCards:[],immune:[],syco:[],eliminated:[],prevTurnMessage:" ",discard_pile:[],turnEnded:!1},n.getTurn=n.getTurn.bind(Object(o.a)(n)),n.getResults=n.getResults.bind(Object(o.a)(n)),n.selectCard=n.selectCard.bind(Object(o.a)(n)),n.discard=n.discard.bind(Object(o.a)(n)),n.endTurn=n.endTurn.bind(Object(o.a)(n)),n.endTurnByButton=n.endTurnByButton.bind(Object(o.a)(n)),n.playCardCallback=n.playCardCallback.bind(Object(o.a)(n)),n.props.socket.send(JSON.stringify({type:"nextRound"})),console.log("sent nextRound for @"+n.props.username),n}return Object(c.a)(a,[{key:"getTurn",value:function(e){this.setState({playMode:0,currentPlayer:e.player,currentCards:e.cards,immune:e.immune,syco:e.sycho,eliminated:e.eliminated,prevTurnMessage:e.prevTurn,playStatus:this.props.all_players[e.player]+" is playing"})}},{key:"getResults",value:function(e){null!==e.roundWinner&&e.discard_pile===[]&&this.setState({turnEnded:!0}),this.setState({playMode:2,results:e,discard_pile:e.discard_pile})}},{key:"selectCard",value:function(e,t){this.setState({cardToPlay:e,cardRemaining:t})}},{key:"render",value:function(){var e=this;console.log("user = "+this.props.userID),console.log("currentPlayer = "+this.state.currentPlayer),console.log(this.state.currentCards),this.state.turnEnded&&this.endTurn();var t=this.state.currentCards[0];if(void 0===t&&(t="loading_card"),this.props.userID===this.state.currentPlayer){console.log(this.props.username+"is playing");var a=this.state.currentCards[1];return void 0===a&&(a="loading_card"),0===this.state.playMode?(console.log("RENDER MODE: current player x choosing card"),s.a.createElement(P.a,{className:"Game-header"},s.a.createElement(b.a,null,s.a.createElement(y,{allCardsDiscarded:this.state.discard_pile})),s.a.createElement(b.a,{style:{margin:"auto"}},null!==this.state.prevTurnMessage?s.a.createElement("h5",{className:"Play-status"},this.state.prevTurnMessage):s.a.createElement("div",null)),s.a.createElement("hr",null),s.a.createElement(b.a,{style:{margin:"auto"}},s.a.createElement("h4",{className:"Play-status"},this.state.playStatus)),s.a.createElement("hr",null),s.a.createElement(b.a,{style:{margin:"auto"}},s.a.createElement(E.a,{style:{display:"inline-flex"},onClick:function(n){return e.selectCard(t,a,n)}},s.a.createElement(g,{cardname:t})),s.a.createElement(E.a,{style:{display:"inline-flex"},onClick:function(n){return e.selectCard(a,t,n)}},s.a.createElement(g,{cardname:a}))),s.a.createElement(b.a,{style:{width:"50vw"}},s.a.createElement(m.a,{size:"lg",block:!0,className:"Confirm-button",disabled:" "===this.state.cardToPlay,onClick:this.discard},"Discard")))):1===this.state.playMode?(console.log("RENDER MODE: current player x playing card"),s.a.createElement(P.a,{className:"Game-header"},s.a.createElement(b.a,null,s.a.createElement(y,{allCardsDiscarded:this.state.discard_pile})),s.a.createElement(b.a,{style:{margin:"auto"}},s.a.createElement("h4",{className:"Play-status"},this.state.playStatus)),s.a.createElement("hr",null),s.a.createElement(k,{currentPlayer:this.state.currentPlayer,cardPlayed:this.state.cardToPlay,cardRemaining:this.state.cardRemaining,roundCallback:this.playCardCallback,all_players:this.props.all_players,immune:this.state.immune,syco:this.state.syco,eliminated:this.state.eliminated}))):(console.log("RENDER MODE: current player x results"),s.a.createElement(P.a,{className:"Game-header"},s.a.createElement(b.a,null,s.a.createElement(y,{allCardsDiscarded:this.state.discard_pile})),s.a.createElement(b.a,{style:{margin:"auto"}},s.a.createElement("h4",{className:"Play-status"},this.state.results.statusMsg)),s.a.createElement("hr",null),s.a.createElement(b.a,{style:{margin:"auto"}},s.a.createElement("h3",{className:"Play-status"},this.state.results.resultMsg)),s.a.createElement("hr",null),s.a.createElement(b.a,null,null!==this.state.results.card1?s.a.createElement(E.a,{style:{display:"inline-flex"}},s.a.createElement(g,{cardname:this.state.results.card1})):s.a.createElement("div",null),null!==this.state.results.card2?s.a.createElement(E.a,{style:{display:"inline-flex"}},s.a.createElement(g,{cardname:this.state.results.card2})):s.a.createElement("div",null)),s.a.createElement(b.a,{style:{width:"50vw",paddingTop:"10px",margin:"auto"}},s.a.createElement(m.a,{size:"lg",block:!0,className:"Confirm-button",onClick:this.endTurnByButton},"OK"))))}return this.props.userID!==this.state.results.player1&&this.props.userID!==this.state.results.player2||2!==this.state.playMode?(console.log("RENDER MODE: other players/one of the players involved in the turn x playmode!=2"),s.a.createElement(P.a,{className:"Game-header"},s.a.createElement(b.a,null,s.a.createElement(y,{allCardsDiscarded:this.state.discard_pile})),2===this.state.playMode?s.a.createElement("div",{style:{margin:"auto"}},s.a.createElement(b.a,{style:{margin:"auto"}},s.a.createElement("h4",{className:"Play-status"},this.state.results.statusMsg)),s.a.createElement("hr",null),s.a.createElement(b.a,{style:{margin:"auto"}},s.a.createElement("h3",{className:"Play-status"},this.state.results.resultMsg)),s.a.createElement("hr",null)):null!==this.state.prevTurnMessage?s.a.createElement("div",{style:{margin:"auto"}},s.a.createElement(b.a,{style:{margin:"auto"}},s.a.createElement("h5",{className:"Play-status"},this.state.prevTurnMessage)),s.a.createElement("hr",null)):s.a.createElement("div",null),this.state.eliminated.indexOf(this.props.userID)>=0?s.a.createElement("div",{style:{margin:"auto"}},s.a.createElement(b.a,{style:{margin:"auto"}},s.a.createElement("h3",{className:"Play-status"},"You have been eliminated")),s.a.createElement("hr",null)):s.a.createElement("div",{style:{margin:"auto"}},s.a.createElement(b.a,{style:{margin:"auto"}},s.a.createElement("h3",{className:"Play-status"},"It's not your turn")),s.a.createElement("hr",null),s.a.createElement(b.a,{style:{margin:"auto"}},s.a.createElement(E.a,{style:{display:"inline-flex"}},s.a.createElement(g,{cardname:t})))))):(console.log("RENDER MODE: one of the players involved in the turn x results"),s.a.createElement(P.a,{className:"Game-header"},s.a.createElement(b.a,null,s.a.createElement(y,{allCardsDiscarded:this.state.discard_pile})),s.a.createElement(b.a,{style:{margin:"auto"}},s.a.createElement("h4",{className:"Play-status"},this.state.results.statusMsg)),s.a.createElement("hr",null),s.a.createElement(b.a,{style:{margin:"auto"}},s.a.createElement("h3",{className:"Play-status"},this.state.results.resultMsg)),s.a.createElement("hr",null),s.a.createElement(b.a,{style:{margin:"auto"}},null!==this.state.results.card1?s.a.createElement(E.a,{style:{display:"inline-flex"}},s.a.createElement(g,{cardname:this.state.results.card1})):s.a.createElement("div",null),null!==this.state.results.card2?s.a.createElement(E.a,{style:{display:"inline-flex"}},s.a.createElement(g,{cardname:this.state.results.card2})):s.a.createElement("div",null))))}}]),a}(s.a.Component),O=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).startGame=function(){n.props.socket.send(JSON.stringify({type:"startGame"})),console.log("@"+n.props.username+" sent startGame")},n.leaveGame=function(){n.props.socket.send(JSON.stringify({type:"leaveGame"})),console.log("@"+n.props.username+" sent leaveGame")},n.state={gameOn:!0,all_players:{},showStartButton:!1,userID:" ",username:" ",gameStatus:0},n.getPlayers=n.getPlayers.bind(Object(o.a)(n)),n.getStartGame=n.getStartGame.bind(Object(o.a)(n)),n.startGame=n.startGame.bind(Object(o.a)(n)),n.leaveGame=n.leaveGame.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"getPlayers",value:function(e){this.setState({all_players:e.plyrs,userID:e.uid,username:e.username}),e.uid===e.host&&this.setState({showStartButton:!0})}},{key:"getStartGame",value:function(e){this.setState({gameStatus:1}),this.props.gameCallback(this.state),console.log("starting game for @"+this.props.username)}},{key:"render",value:function(){if(!this.props.leavingGame)return s.a.createElement(P.a,{className:"Game-header"},s.a.createElement(b.a,{style:{margin:"auto"}},s.a.createElement("h4",{className:"Play-status"},"Waiting For Players...")),s.a.createElement("hr",null),s.a.createElement(b.a,{style:{margin:"auto"}},s.a.createElement(f.a,null,Object.entries(this.state.all_players).map((function(e){var t=Object(h.a)(e,2),a=t[0],n=t[1];return s.a.createElement(f.a.Item,{className:"List-item-design",key:a},n)})))),s.a.createElement(b.a,{style:{width:"50vw"}},s.a.createElement(m.a,{size:"lg",block:!0,className:"Confirm-button",disabled:!this.state.showStartButton,onClick:this.startGame},"Start Game")))}}]),a}(s.a.Component),S=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getResults=n.getResults.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"getResults",value:function(){var e=this.props.points,t=s.a.createElement(v.a,{icon:C.b}),a=s.a.createElement("span",null,"\xa0\xa0");return Object.entries(e).map((function(n){for(var s=Object(h.a)(n,2),r=s[0],l=s[1],i=[],c=0;c<l;c++)i=i.concat(t).concat(a);e[r]=i})),e}},{key:"render",value:function(){var e=this,t=this.getResults();return s.a.createElement(P.a,{className:"Game-header"},s.a.createElement(b.a,{style:{margin:"auto"}},s.a.createElement("h3",{className:"Play-status"},this.props.allPlayers[this.props.winner],"'s letter reached the Princess!")),s.a.createElement("hr",null),null!==this.props.gameWinner?s.a.createElement("div",{style:{margin:"auto"}},s.a.createElement(b.a,{style:{margin:"auto"}},s.a.createElement("h2",{className:"Play-status"},this.props.allPlayers[this.props.gameWinner]," won the Princess' heart!")),s.a.createElement("hr",null)):s.a.createElement("div",null),s.a.createElement(b.a,{style:{margin:"auto"}},s.a.createElement(f.a,null,Object.entries(t).map((function(t){var a=Object(h.a)(t,2),n=a[0],r=a[1];return s.a.createElement(f.a.Item,{key:n,className:"List-item-design Container"},s.a.createElement(b.a,null,s.a.createElement(E.a,{style:{display:"inline"}},e.props.allPlayers[n]),s.a.createElement(E.a,{style:{display:"inline"}},r.map((function(e,t){return s.a.createElement("span",{style:{float:"right"}},e)})))))})))),null!==this.props.gameWinner?s.a.createElement(b.a,{style:{width:"50vw"}},s.a.createElement(E.a,null,s.a.createElement(m.a,{size:"lg",block:!0,className:"Confirm-button",onClick:function(t){return e.props.gameCallback(!0)}},"Start New Game")),s.a.createElement(E.a,null,s.a.createElement(m.a,{size:"lg",block:!0,className:"Confirm-button",onClick:function(t){return e.props.gameCallback(!1)}},"Leave Game"))):s.a.createElement(b.a,{style:{width:"50vw"}},s.a.createElement(m.a,{size:"lg",block:!0,className:"Confirm-button",onClick:function(t){return e.props.gameCallback(!0)}},"Start Next Round")))}}]),a}(s.a.Component),x=new(a(30).w3cwebsocket)(("https:"===window.location.protocol?"wss://":"ws://")+window.location.host+"/ws"),N=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).landingCallback=function(e){n.setState({gameStatus:e.gameStatus,all_players:e.all_players,userID:e.userID,username:e.username}),console.log("player info received from landing:",e),console.log("set gameStatus to 1")},n.roundCallback=function(e){n.setState({rounds_played:n.state.rounds_played+1,tokens:e.tokens,gameStatus:2,roundWinner:e.roundWinner,gameWinner:e.gameWinner}),console.log("results received from Round @"+n.state.username),console.log("set gameStatus to 2")},n.resultsCallback=function(e){null!==n.state.gameWinner&&!0===e?(n.setState({gameStatus:0,leavingGame:!1}),console.log("We have a game winner; set state=0 to start new game @"+n.state.username)):null===n.state.gameWinner&&!0===e?(n.setState({gameStatus:1}),console.log("No game winner yet; set state=1 to start next round @"+n.state.username)):(n.setState({gameStatus:0,leavingGame:!0}),console.log("set state=0 and @"+n.state.username+" is leaving the game"))},n.state={gameStatus:0,leavingGame:!1,rounds_played:0,all_players:{},tokens:{p1:0,p2:0,p3:0},roundWinner:" ",gameWinner:" ",userID:" ",username:" "},n.landingCallback=n.landingCallback.bind(Object(o.a)(n)),n.roundCallback=n.roundCallback.bind(Object(o.a)(n)),n.resultsCallback=n.resultsCallback.bind(Object(o.a)(n)),n.landingRef=s.a.createRef(),n.roundRef=s.a.createRef(),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;x.onopen=function(){console.log("WebSocket Client Connected"),x.send(JSON.stringify({type:"players"}))},x.onmessage=function(t){var a=JSON.parse(t.data);console.log(a),console.log(a.type),"playersS"===a.type?(e.landingRef.current.getPlayers(a),console.log("playersS received @"+e.state.username)):"startGame"===a.type?(e.landingRef.current.getStartGame(a),console.log("startGame received @"+e.state.username)):"turn"===a.type?(console.log("turn received @"+e.state.username),e.roundRef.current.getTurn(a),console.log("turn sent back to round @"+e.state.username)):"results"===a.type&&(console.log("results received @"+e.state.username),e.roundRef.current.getResults(a),console.log("results sent back to round @"+e.state.username))}}},{key:"render",value:function(){return 0===this.state.gameStatus?s.a.createElement(O,{ref:this.landingRef,leavingGame:this.state.leavingGame,gameCallback:this.landingCallback,socket:x,username:this.state.username}):1===this.state.gameStatus?s.a.createElement(j,{ref:this.roundRef,gameCallback:this.roundCallback,all_players:this.state.all_players,userID:this.state.userID,username:this.state.username,socket:x}):2===this.state.gameStatus?s.a.createElement(S,{points:this.state.tokens,allPlayers:this.state.all_players,winner:this.state.roundWinner,gameWinner:this.state.gameWinner,gameCallback:this.resultsCallback}):void 0}}]),a}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[33,1,2]]]);
//# sourceMappingURL=main.36ac8254.chunk.js.map