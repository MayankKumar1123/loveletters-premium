(this.webpackJsonpgame=this.webpackJsonpgame||[]).push([[0],[,,,,,,,,,,,,,function(e,a,t){},,,,,,,,function(e,a,t){var n={"./Assassin.png":39,"./Baron.png":40,"./Baroness.png":41,"./Bishop.png":42,"./Cardinal.png":43,"./Constable.png":44,"./Count.png":45,"./Countess.png":46,"./Dowager Queen.png":47,"./Guard.png":48,"./Handmaid.png":49,"./Jester.png":50,"./King.png":51,"./Priest.png":52,"./Prince.png":53,"./Princess.png":54,"./Sycophant.png":55};function s(e){var a=r(e);return t(a)}function r(e){if(!t.o(n,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id=21},,,,,,,,,,,,function(e,a,t){e.exports=t(63)},,,,,function(e,a,t){},function(e,a,t){e.exports=t.p+"static/media/Assassin.6c7b8198.png"},function(e,a,t){e.exports=t.p+"static/media/Baron.ac315008.png"},function(e,a,t){e.exports=t.p+"static/media/Baroness.1c5a87ee.png"},function(e,a,t){e.exports=t.p+"static/media/Bishop.0b0e0959.png"},function(e,a,t){e.exports=t.p+"static/media/Cardinal.c7b46de0.png"},function(e,a,t){e.exports=t.p+"static/media/Constable.f6ac8dd7.png"},function(e,a,t){e.exports=t.p+"static/media/Count.67f8d8d4.png"},function(e,a,t){e.exports=t.p+"static/media/Countess.6e495d6c.png"},function(e,a,t){e.exports=t.p+"static/media/Dowager Queen.51a0834e.png"},function(e,a,t){e.exports=t.p+"static/media/Guard.13b4141c.png"},function(e,a,t){e.exports=t.p+"static/media/Handmaid.4af99d42.png"},function(e,a,t){e.exports=t.p+"static/media/Jester.845851da.png"},function(e,a,t){e.exports=t.p+"static/media/King.52d72f4c.png"},function(e,a,t){e.exports=t.p+"static/media/Priest.2ef7dd82.png"},function(e,a,t){e.exports=t.p+"static/media/Prince.fece33d0.png"},function(e,a,t){e.exports=t.p+"static/media/Princess.2f3b56ce.png"},function(e,a,t){e.exports=t.p+"static/media/Sycophant.09602aa7.png"},,,,,,,,function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),r=t(23),l=t.n(r),c=(t(38),t(6)),i=t(7),o=t(4),d=t(9),u=t(8),p=(t(13),t(14),t(10)),m=t(12),y=function(e){Object(d.a)(n,e);var a=Object(u.a)(n);function n(e){var t;return Object(c.a)(this,n),(t=a.call(this,e)).clickCard=function(){t.setState({opacity:.9}),console.log("inner click")},t.state={opacity:1},t.clickCard=t.clickCard.bind(Object(o.a)(t)),t}return Object(i.a)(n,[{key:"getCard",value:function(){return t(21)("./"+this.props.cardname+".png")}},{key:"render",value:function(){return s.a.createElement(m.a,{hoverable:"true",onClick:this.clickCard,style:{opacity:this.state.opacity},className:"Card-design"},s.a.createElement(m.a.Body,{style:{padding:0}},s.a.createElement(m.a.Img,{src:this.getCard()})))}}]),n}(s.a.Component),g=t(31),h={num_players:3,all_players:["p1","p2","p3"],all_cards:["Jester","Assassin","Guard","Priest","Princess","Baron"],card_count:{Jester:1,Assassin:2,Guard:3,Priest:4,Princess:5,Baron:6},player_points:{p1:0,p2:0,p3:0},played_cards:["Guard","Priest","Princess"],current_cards:{p1:"Guard",p2:"Jester",p3:"Baron"},draw_pile:["Assassin","Guard","Priest","Baron"]},b=function(e){Object(d.a)(n,e);var a=Object(u.a)(n);function n(){return Object(c.a)(this,n),a.apply(this,arguments)}return Object(i.a)(n,[{key:"getCard",value:function(e){return t(21)("./"+e+".png")}},{key:"render",value:function(){var e=this,a=h.played_cards;return" "!=this.props.addCard&&(a=[].concat(Object(g.a)(a),[this.props.addCard])),s.a.createElement("div",{className:"Card-carousel"},a.map((function(a){return s.a.createElement("div",{key:a},s.a.createElement(m.a,{style:{width:"6rem",marginLeft:"2px"}},s.a.createElement(m.a.Body,{style:{padding:0}},s.a.createElement(m.a.Img,{src:e.getCard(a)}))))})))}}]),n}(s.a.Component),f=t(28),C=t(11),k=t(64),E=t(65),P=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).state={selectedPlayers:[],selectionSatisfied:!1,selectedCard:" "},n.selectPlayer=n.selectPlayer.bind(Object(o.a)(n)),n.selectCard=n.selectCard.bind(Object(o.a)(n)),n.endPlay=n.endPlay.bind(Object(o.a)(n)),n.getList=n.getList.bind(Object(o.a)(n)),n}return Object(i.a)(t,[{key:"selectPlayer",value:function(e,a){var t=null,n=0;"single"==e?(t=[a],"Guard"!=this.props.cardPlayed?this.setState({selectionSatisfied:!0,selectedPlayers:t}):this.setState({selectedPlayers:t})):((n=this.state.selectedPlayers.indexOf(a))>=0?(t=this.state.selectedPlayers).splice(n,1):t=this.state.selectedPlayers.concat(a),"double"==e?2==t.length?this.setState({selectionSatisfied:!0,selectedPlayers:t}):this.setState({selectionSatisfied:!1,selectedPlayers:t}):1==t.length||2==t.length?this.setState({selectionSatisfied:!0,selectedPlayers:t}):this.setState({selectionSatisfied:!1,selectedPlayers:t})),console.log("selected player:"+t)}},{key:"selectCard",value:function(e){this.setState({selectionSatisfied:!0,selectedCard:e}),console.log("selected card:"+e)}},{key:"endPlay",value:function(){var e={};this.state.selectedPlayers.map((function(a,t){e[a]=h.current_cards[a]})),e[this.props.currentPlayer]=this.props.cardRemaining,"Guard"==this.props.cardPlayed&&(e.Guessed=this.state.selectedCard),console.log(e);var a={};a[this.state.selectedPlayer]=1,a[this.props.currentPlayer]=-1,this.props.roundCallback(a)}},{key:"getList",value:function(){var e=this,a=null;if(["Assassin","Constable","Count","Countess","Handmaid","Princess"].indexOf(this.props.cardPlayed)>=0)a=null,console.log("list is null");else{var t="Prince"==this.props.cardPlayed||"Sycophant"==this.props.cardPlayed,n="";n="Baroness"==this.props.cardPlayed?"either":"Cardinal"==this.props.cardPlayed?"double":"single",a=s.a.createElement(C.a,null,h.all_players.map((function(a,r){return s.a.createElement(C.a.Item,{className:"List-item-design",key:a,disabled:!t&&a==e.props.currentPlayer,onClick:function(t){return e.selectPlayer(n,a,t)}},a)})))}return a}},{key:"render",value:function(){var e=this,a=this.getList();return null!=a?s.a.createElement("div",null,s.a.createElement(k.a,{style:{justifyContent:"center"}},s.a.createElement(E.a,null,a),"Guard"==this.props.cardPlayed?s.a.createElement(E.a,null,s.a.createElement(C.a,null,h.all_cards.map((function(a,t){return s.a.createElement(C.a.Item,{className:"List-item-design",key:a,disabled:a==e.props.cardPlayed,onClick:function(t){return e.selectCard(a,t)}},a,s.a.createElement(f.a,{variant:"secondary",style:{float:"right"}},h.card_count[a]))})))):s.a.createElement(E.a,null)),s.a.createElement(k.a,{style:{width:"50vw",paddingTop:"10px",margin:"auto"}},s.a.createElement(p.a,{size:"lg",block:!0,className:"Confirm-button",disabled:!this.state.selectionSatisfied,onClick:this.endPlay},"OK"))):s.a.createElement("div",null,this.endPlay())}}]),t}(s.a.Component),v=t(66),w=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).discard=function(){n.setState({discardMode:!0}),console.log("Discarding "+n.state.cardToPlay)},n.endPlay=function(){n.setState({discardMode:!1}),console.log("Ending Play")},n.playCardCallback=function(e){n.setState({results:e,winner:"p1"})," "!=n.state.winner?n.props.gameCallback(n.state.winner):n.endPlay()},n.state={opacity:1,cardToPlay:" ",cardRemaining:" ",discardMode:!1,currentPlayer:"p1",playStatus:"p1 is discarding",results:h.player_points,winner:"p1"},n.drawCard=n.drawCard.bind(Object(o.a)(n)),n.selectCard=n.selectCard.bind(Object(o.a)(n)),n.discard=n.discard.bind(Object(o.a)(n)),n.endPlay=n.endPlay.bind(Object(o.a)(n)),n.playCardCallback=n.playCardCallback.bind(Object(o.a)(n)),n}return Object(i.a)(t,[{key:"drawCard",value:function(){var e=h.draw_pile[0];return console.log(h.draw_pile.splice(0,0)),e}},{key:"selectCard",value:function(e,a){this.setState({cardToPlay:e,cardRemaining:a,opacity:.9}),console.log("Clicked "+this.state.cardToPlay)}},{key:"render",value:function(){var e=this,a=h.current_cards[this.state.currentPlayer],t=this.drawCard();return console.log("in round"),this.state.discardMode?s.a.createElement(v.a,{className:"Game-header"},s.a.createElement(k.a,null,s.a.createElement(b,{addCard:this.state.cardToPlay})),s.a.createElement(k.a,null,s.a.createElement("h4",{className:"Play-status"},this.state.playStatus)),s.a.createElement(P,{currentPlayer:this.state.currentPlayer,cardPlayed:this.state.cardToPlay,cardRemaining:this.state.cardRemaining,roundCallback:this.playCardCallback})):s.a.createElement(v.a,{className:"Game-header"},s.a.createElement(k.a,null,s.a.createElement(b,{addCard:" "})),s.a.createElement(k.a,null,s.a.createElement("h4",{className:"Play-status"},this.state.playStatus)),s.a.createElement(k.a,null,s.a.createElement(E.a,{style:{display:"inline-flex"},onClick:function(n){return e.selectCard(a,t,n)}},s.a.createElement(y,{cardname:a})),s.a.createElement(E.a,{style:{display:"inline-flex"},onClick:function(n){return e.selectCard(t,a,n)}},s.a.createElement(y,{cardname:t}))),s.a.createElement(k.a,{style:{width:"50vw"}},s.a.createElement(p.a,{size:"lg",block:!0,className:"Confirm-button",disabled:" "==this.state.cardToPlay,onClick:this.discard},"Discard")))}}]),t}(s.a.Component),O=new(t(29).w3cwebsocket)(("https:"===window.location.protocol?"wss://":"ws://")+window.location.host+"/ws"),j=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).startGame=function(){n.props.gameCallback(1)},n.startNewGame=function(){n.props.gameCallback(0)},n.endGame=function(){n.setState({gameOn:!1})},n.state={gameOn:!0},n.startGame=n.startGame.bind(Object(o.a)(n)),n.startNewGame=n.startNewGame.bind(Object(o.a)(n)),n.endGame=n.endGame.bind(Object(o.a)(n)),n.all_players=[],O.onopen=function(){console.log("WebSocket Client Connected"),O.send(JSON.stringify({type:"players"}))},O.onmessage=function(e){console.log(e);var a=JSON.parse(e.data);n.all_players=a.in,console.log(a.in)},n}return Object(i.a)(t,[{key:"render",value:function(){return this.props.toStartGame?s.a.createElement(v.a,{className:"Game-header"},s.a.createElement(k.a,{style:{margin:"auto"}},s.a.createElement("h4",{className:"Play-status"},"Waiting For Players...")),s.a.createElement(k.a,{style:{margin:"auto"}},s.a.createElement(C.a,null,this.all_players.map((function(e,a){return s.a.createElement(C.a.Item,{key:e,className:"List-item-design"},e)})))),s.a.createElement(k.a,{style:{width:"50vw"}},s.a.createElement(p.a,{size:"lg",block:!0,className:"Confirm-button",onClick:this.startGame},"Start Game"))):s.a.createElement(v.a,{className:"Game-header"},s.a.createElement(k.a,{style:{margin:"auto"}},s.a.createElement("h4",{className:"Play-status"},this.props.final_winner," won the game!")),s.a.createElement(k.a,{style:{margin:"auto"}},s.a.createElement(E.a,null,s.a.createElement(p.a,{size:"lg",style:{width:"30vw"},block:!0,className:"Confirm-button",onClick:this.endGame},"Leave Game")),s.a.createElement(E.a,null,s.a.createElement(p.a,{size:"lg",style:{width:"30vw"},block:!0,className:"Confirm-button",onClick:this.startNewGame},"Start New Game"))))}}]),t}(s.a.Component),S=t(19),G=(t(59),function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).sendResults=n.sendResults.bind(Object(o.a)(n)),n}return Object(i.a)(t,[{key:"sendResults",value:function(e){console.log("Sent winner="+e),this.props.gameCallback(e)}},{key:"render",value:function(){var e=this,a=this.props.points,t="p1";return Object.entries(a).map((function(e){var n=Object(S.a)(e,2),s=n[0],r=n[1];r>=4&&(t=s);for(var l="",c=0;c<r;c++)l+="*";a[s]=l})),s.a.createElement(v.a,{className:"Game-header"},s.a.createElement(k.a,{style:{margin:"auto"}},s.a.createElement("h4",{className:"Play-status"},this.props.winner,"'s letter reached the Princess!")),s.a.createElement(k.a,{style:{margin:"auto"}},s.a.createElement(C.a,null,Object.entries(a).map((function(e){var a=Object(S.a)(e,2),t=a[0],n=a[1];return s.a.createElement(C.a.Item,{key:t,className:"List-item-design"},s.a.createElement(E.a,{style:{display:"inline"}},t),s.a.createElement(E.a,{style:{display:"inline"}},n))})))),s.a.createElement(k.a,{style:{width:"50vw"}}," "!=t?s.a.createElement(p.a,{size:"lg",block:!0,className:"Confirm-button",onClick:function(a){return e.sendResults(t,a)}},"OK"):s.a.createElement(p.a,{size:"lg",block:!0,className:"Confirm-button",onClick:function(a){return e.sendResults(t,a)}},"Start Next Round")))}}]),t}(s.a.Component)),N=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).landingCallback=function(e){n.setState({gameStatus:e})},n.roundCallback=function(e){var a=e,t=n.state.points;t[a]=t[a]+1,n.setState({rounds_played:n.state.rounds_played+1,points:t,gameStatus:2,round_winner:a})},n.resultsCallback=function(e){" "!=e?(n.setState({gameStatus:3,round_winner:e}),console.log("results="+e),console.log("set state=3")):(n.setState({gameStatus:1}),console.log("set state=1"))},n.state={gameStatus:0,toStartGame:!0,rounds_played:0,points:h.player_points,round_winner:" "},n.landingCallback=n.landingCallback.bind(Object(o.a)(n)),n.roundCallback=n.roundCallback.bind(Object(o.a)(n)),n.resultsCallback=n.resultsCallback.bind(Object(o.a)(n)),n}return Object(i.a)(t,[{key:"render",value:function(){return 0==this.state.gameStatus?s.a.createElement(j,{toStartGame:this.state.toStartGame,gameCallback:this.landingCallback}):1==this.state.gameStatus?s.a.createElement(w,{gameCallback:this.roundCallback}):2==this.state.gameStatus?s.a.createElement(G,{points:this.state.points,winner:this.state.round_winner,gameCallback:this.resultsCallback}):s.a.createElement(j,{toStartGame:!1,final_winner:this.state.round_winner,gameCallback:this.landingCallback})}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[33,1,2]]]);
//# sourceMappingURL=main.e0c960d2.chunk.js.map