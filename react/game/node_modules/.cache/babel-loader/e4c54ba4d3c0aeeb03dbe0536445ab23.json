{"ast":null,"code":"import _classCallCheck from\"/home/mayank/BoardGames/loveletters-premium/react/game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/mayank/BoardGames/loveletters-premium/react/game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/mayank/BoardGames/loveletters-premium/react/game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/mayank/BoardGames/loveletters-premium/react/game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/mayank/BoardGames/loveletters-premium/react/game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./Game.css';import Round from'./Round.js';import Landing from'./Landing.js';import Results from'./Results.js';import{Values}from'../assets/values.js';import socket from'./socket-context';var Game=/*#__PURE__*/function(_React$Component){_inherits(Game,_React$Component);var _super=_createSuper(Game);function Game(props){var _this;_classCallCheck(this,Game);_this=_super.call(this,props);_this.landingCallback=function(landingData){_this.setState({gameStatus:landingData});};_this.roundCallback=function(roundData){var winner=roundData;var new_points=_this.state.points;new_points[winner]=new_points[winner]+1;_this.setState({rounds_played:_this.state.rounds_played+1,points:new_points,gameStatus:2,round_winner:winner});};_this.resultsCallback=function(resultsData){if(resultsData!=\" \"){_this.setState({gameStatus:3,round_winner:resultsData});console.log('results='+resultsData);console.log('set state=3');}else{_this.setState({gameStatus:1});console.log('set state=1');}};_this.state={gameStatus:0,/* 0-landing screen start game, 1- in round, 2- round results, 3-landing screen end game*/toStartGame:true,rounds_played:0,points:Values.player_points,round_winner:\" \"};_this.landingCallback=_this.landingCallback.bind(_assertThisInitialized(_this));_this.roundCallback=_this.roundCallback.bind(_assertThisInitialized(_this));_this.resultsCallback=_this.resultsCallback.bind(_assertThisInitialized(_this));return _this;}_createClass(Game,[{key:\"render\",value:function render(){if(this.state.gameStatus==0)return/*#__PURE__*/React.createElement(Landing,{toStartGame:this.state.toStartGame,gameCallback:this.landingCallback});else if(this.state.gameStatus==1)return/*#__PURE__*/React.createElement(Round,{gameCallback:this.roundCallback});else if(this.state.gameStatus==2)return/*#__PURE__*/React.createElement(Results,{points:this.state.points,winner:this.state.round_winner,gameCallback:this.resultsCallback});else return/*#__PURE__*/React.createElement(Landing,{toStartGame:false,final_winner:this.state.round_winner,gameCallback:this.landingCallback});}}]);return Game;}(React.Component);export default Game;","map":{"version":3,"sources":["/home/mayank/BoardGames/loveletters-premium/react/game/src/Game.js"],"names":["React","Round","Landing","Results","Values","socket","Game","props","landingCallback","landingData","setState","gameStatus","roundCallback","roundData","winner","new_points","state","points","rounds_played","round_winner","resultsCallback","resultsData","console","log","toStartGame","player_points","bind","Component"],"mappings":"i2BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,YAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,YAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,cAApB,CACA,MAAOC,CAAAA,OAAP,KAAoB,cAApB,CACA,OAAQC,MAAR,KAAqB,qBAArB,CAGA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,C,GAGMC,CAAAA,I,wGAEL,cAAYC,KAAZ,CAAmB,sCACf,uBAAMA,KAAN,EADe,MAcnBC,eAdmB,CAcD,SAACC,WAAD,CAAiB,CAClC,MAAKC,QAAL,CAAc,CACbC,UAAU,CAAEF,WADC,CAAd,EAGA,CAlBkB,OAoBnBG,aApBmB,CAoBH,SAACC,SAAD,CAAe,CAC9B,GAAMC,CAAAA,MAAM,CAAGD,SAAf,CACA,GAAIE,CAAAA,UAAU,CAAG,MAAKC,KAAL,CAAWC,MAA5B,CACAF,UAAU,CAACD,MAAD,CAAV,CAAqBC,UAAU,CAACD,MAAD,CAAV,CAAmB,CAAxC,CACA,MAAKJ,QAAL,CAAc,CACbQ,aAAa,CAAE,MAAKF,KAAL,CAAWE,aAAX,CAAyB,CAD3B,CAEbD,MAAM,CAAEF,UAFK,CAGbJ,UAAU,CAAE,CAHC,CAIbQ,YAAY,CAAEL,MAJD,CAAd,EAMA,CA9BkB,OAgCnBM,eAhCmB,CAgCD,SAACC,WAAD,CAAiB,CAClC,GAAGA,WAAW,EAAE,GAAhB,CAAqB,CACpB,MAAKX,QAAL,CAAc,CACbC,UAAU,CAAE,CADC,CAEbQ,YAAY,CAAEE,WAFD,CAAd,EAIAC,OAAO,CAACC,GAAR,CAAY,WAAWF,WAAvB,EACAC,OAAO,CAACC,GAAR,CAAY,aAAZ,EACA,CAPD,IAQK,CACJ,MAAKb,QAAL,CAAc,CACbC,UAAU,CAAE,CADC,CAAd,EAGAW,OAAO,CAACC,GAAR,CAAY,aAAZ,EACA,CACD,CA/CkB,CAEf,MAAKP,KAAL,CAAa,CACZL,UAAU,CAAE,CADA,CACG,0FAClBa,WAAW,CAAE,IAFE,CAGfN,aAAa,CAAE,CAHA,CAIfD,MAAM,CAAEb,MAAM,CAACqB,aAJA,CAKfN,YAAY,CAAE,GALC,CAAb,CAOH,MAAKX,eAAL,CAAuB,MAAKA,eAAL,CAAqBkB,IAArB,+BAAvB,CACA,MAAKd,aAAL,CAAqB,MAAKA,aAAL,CAAmBc,IAAnB,+BAArB,CACA,MAAKN,eAAL,CAAuB,MAAKA,eAAL,CAAqBM,IAArB,+BAAvB,CAXkB,aAYlB,C,wDAqCQ,CACR,GAAI,KAAKV,KAAL,CAAWL,UAAX,EAAuB,CAA3B,CACC,mBAAQ,oBAAC,OAAD,EAAS,WAAW,CAAE,KAAKK,KAAL,CAAWQ,WAAjC,CAA8C,YAAY,CAAI,KAAKhB,eAAnE,EAAR,CADD,IAEK,IAAI,KAAKQ,KAAL,CAAWL,UAAX,EAAuB,CAA3B,CACD,mBAAQ,oBAAC,KAAD,EAAO,YAAY,CAAE,KAAKC,aAA1B,EAAR,CADC,IAEA,IAAI,KAAKI,KAAL,CAAWL,UAAX,EAAuB,CAA3B,CACJ,mBAAO,oBAAC,OAAD,EAAS,MAAM,CAAE,KAAKK,KAAL,CAAWC,MAA5B,CAAoC,MAAM,CAAE,KAAKD,KAAL,CAAWG,YAAvD,CAAqE,YAAY,CAAE,KAAKC,eAAxF,EAAP,CADI,IAGJ,oBAAQ,oBAAC,OAAD,EAAS,WAAW,CAAE,KAAtB,CAA6B,YAAY,CAAE,KAAKJ,KAAL,CAAWG,YAAtD,CAAoE,YAAY,CAAI,KAAKX,eAAzF,EAAR,CACD,C,kBA5DiBR,KAAK,CAAC2B,S,EA+DzB,cAAerB,CAAAA,IAAf","sourcesContent":["import React from 'react';\nimport './Game.css';\nimport Round from './Round.js';\nimport Landing from './Landing.js';\nimport Results from './Results.js';\nimport {Values} from '../assets/values.js';\n\n\nimport socket from './socket-context'\n\n\nclass Game extends React.Component {\n\t\n\tconstructor(props) {\n\t    super(props);\n\t    this.state = {\n\t    \tgameStatus: 0, /* 0-landing screen start game, 1- in round, 2- round results, 3-landing screen end game*/\n\t\t\ttoStartGame: true,\n\t\t\trounds_played: 0,\n\t\t\tpoints: Values.player_points,\n\t\t\tround_winner: \" \"\n\t\t};\n\t\tthis.landingCallback = this.landingCallback.bind(this);\n\t\tthis.roundCallback = this.roundCallback.bind(this);\n\t\tthis.resultsCallback = this.resultsCallback.bind(this);\n\t}\n\n\tlandingCallback = (landingData) => {\n\t\tthis.setState({\n\t\t\tgameStatus: landingData\n\t\t})\n\t}\n\n\troundCallback = (roundData) => {\n\t\tconst winner = roundData;\n\t\tlet new_points = this.state.points;\n\t\tnew_points[winner] = new_points[winner]+1;\n\t\tthis.setState({\n\t\t\trounds_played: this.state.rounds_played+1,\n\t\t\tpoints: new_points,\n\t\t\tgameStatus: 2,\n\t\t\tround_winner: winner\n\t\t});\n\t}\n\n\tresultsCallback = (resultsData) => {\n\t\tif(resultsData!=\" \") {\n\t\t\tthis.setState({\n\t\t\t\tgameStatus: 3,\n\t\t\t\tround_winner: resultsData\n\t\t\t});\n\t\t\tconsole.log('results='+resultsData);\n\t\t\tconsole.log('set state=3');\n\t\t}\n\t\telse {\n\t\t\tthis.setState({\n\t\t\t\tgameStatus: 1\n\t\t\t});\n\t\t\tconsole.log('set state=1');\n\t\t}\n\t}\n\n\trender() {\n\t\tif (this.state.gameStatus==0)\n\t\t\treturn (<Landing toStartGame={this.state.toStartGame} gameCallback = {this.landingCallback}/>);\n\t\telse if (this.state.gameStatus==1)\n\t\t    return (<Round gameCallback={this.roundCallback}/>);\n\t\telse if (this.state.gameStatus==2)\n\t\t\treturn(<Results points={this.state.points} winner={this.state.round_winner} gameCallback={this.resultsCallback}/>);\n\t\telse\n\t\t\treturn (<Landing toStartGame={false} final_winner={this.state.round_winner} gameCallback = {this.landingCallback}/>);\n\t}\n}\n\nexport default Game;\n"]},"metadata":{},"sourceType":"module"}