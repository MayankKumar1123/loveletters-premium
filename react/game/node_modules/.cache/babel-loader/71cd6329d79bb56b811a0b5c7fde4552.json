{"ast":null,"code":"var _jsxFileName = \"/home/mayank/BoardGames/loveletters-premium/react/game/src/Game.js\";\nimport React from 'react';\nimport './Game.css';\nimport Round from './Round.js';\nimport Landing from './Landing.js';\nimport Results from './Results.js';\nimport { Values } from '../assets/values.js';\nimport SocketContext from './socket-context';\nimport * as io from 'socket.io-client';\nconst socket = io(process.env.REACT_APP_API_BASE_URL, {\n  secure: true,\n  rejectUnauthorized: false,\n  path: '/socket.io'\n});\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.landingCallback = landingData => {\n      this.setState({\n        gameStatus: landingData\n      });\n    };\n\n    this.roundCallback = roundData => {\n      const winner = roundData;\n      let new_points = this.state.points;\n      new_points[winner] = new_points[winner] + 1;\n      this.setState({\n        rounds_played: this.state.rounds_played + 1,\n        points: new_points,\n        gameStatus: 2,\n        round_winner: winner\n      });\n    };\n\n    this.resultsCallback = resultsData => {\n      if (resultsData != \" \") {\n        this.setState({\n          gameStatus: 3,\n          round_winner: resultsData\n        });\n        console.log('results=' + resultsData);\n        console.log('set state=3');\n      } else {\n        this.setState({\n          gameStatus: 1\n        });\n        console.log('set state=1');\n      }\n    };\n\n    this.state = {\n      gameStatus: 0,\n\n      /* 0-landing screen start game, 1- in round, 2- round results, 3-landing screen end game*/\n      toStartGame: true,\n      rounds_played: 0,\n      points: Values.player_points,\n      round_winner: \" \"\n    };\n    this.landingCallback = this.landingCallback.bind(this);\n    this.roundCallback = this.roundCallback.bind(this);\n    this.resultsCallback = this.resultsCallback.bind(this);\n  }\n\n  render() {\n    if (this.state.gameStatus == 0) return /*#__PURE__*/React.createElement(Landing, {\n      toStartGame: this.state.toStartGame,\n      gameCallback: this.landingCallback,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 12\n      }\n    });else if (this.state.gameStatus == 1) return /*#__PURE__*/React.createElement(Round, {\n      gameCallback: this.roundCallback,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }\n    });else if (this.state.gameStatus == 2) return /*#__PURE__*/React.createElement(Results, {\n      points: this.state.points,\n      winner: this.state.round_winner,\n      gameCallback: this.resultsCallback,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    });else return /*#__PURE__*/React.createElement(Landing, {\n      toStartGame: false,\n      final_winner: this.state.round_winner,\n      gameCallback: this.landingCallback,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 12\n      }\n    });\n  }\n\n}\n\nexport default Game;","map":{"version":3,"sources":["/home/mayank/BoardGames/loveletters-premium/react/game/src/Game.js"],"names":["React","Round","Landing","Results","Values","SocketContext","io","socket","process","env","REACT_APP_API_BASE_URL","secure","rejectUnauthorized","path","Game","Component","constructor","props","landingCallback","landingData","setState","gameStatus","roundCallback","roundData","winner","new_points","state","points","rounds_played","round_winner","resultsCallback","resultsData","console","log","toStartGame","player_points","bind","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Game.css';\nimport Round from './Round.js';\nimport Landing from './Landing.js';\nimport Results from './Results.js';\nimport {Values} from '../assets/values.js';\n\n\nimport SocketContext from './socket-context'\nimport * as io from 'socket.io-client'\n\nconst socket = io(process.env.REACT_APP_API_BASE_URL, {\n  secure: true,\n  rejectUnauthorized: false,\n  path: '/socket.io'\n})\n\nclass Game extends React.Component {\n\t\n\tconstructor(props) {\n\t    super(props);\n\t    this.state = {\n\t    \tgameStatus: 0, /* 0-landing screen start game, 1- in round, 2- round results, 3-landing screen end game*/\n\t\t\ttoStartGame: true,\n\t\t\trounds_played: 0,\n\t\t\tpoints: Values.player_points,\n\t\t\tround_winner: \" \"\n\t\t};\n\t\tthis.landingCallback = this.landingCallback.bind(this);\n\t\tthis.roundCallback = this.roundCallback.bind(this);\n\t\tthis.resultsCallback = this.resultsCallback.bind(this);\n\t}\n\n\tlandingCallback = (landingData) => {\n\t\tthis.setState({\n\t\t\tgameStatus: landingData\n\t\t})\n\t}\n\n\troundCallback = (roundData) => {\n\t\tconst winner = roundData;\n\t\tlet new_points = this.state.points;\n\t\tnew_points[winner] = new_points[winner]+1;\n\t\tthis.setState({\n\t\t\trounds_played: this.state.rounds_played+1,\n\t\t\tpoints: new_points,\n\t\t\tgameStatus: 2,\n\t\t\tround_winner: winner\n\t\t});\n\t}\n\n\tresultsCallback = (resultsData) => {\n\t\tif(resultsData!=\" \") {\n\t\t\tthis.setState({\n\t\t\t\tgameStatus: 3,\n\t\t\t\tround_winner: resultsData\n\t\t\t});\n\t\t\tconsole.log('results='+resultsData);\n\t\t\tconsole.log('set state=3');\n\t\t}\n\t\telse {\n\t\t\tthis.setState({\n\t\t\t\tgameStatus: 1\n\t\t\t});\n\t\t\tconsole.log('set state=1');\n\t\t}\n\t}\n\n\trender() {\n\t\tif (this.state.gameStatus==0)\n\t\t\treturn (<Landing toStartGame={this.state.toStartGame} gameCallback = {this.landingCallback}/>);\n\t\telse if (this.state.gameStatus==1)\n\t\t    return (<Round gameCallback={this.roundCallback}/>);\n\t\telse if (this.state.gameStatus==2)\n\t\t\treturn(<Results points={this.state.points} winner={this.state.round_winner} gameCallback={this.resultsCallback}/>);\n\t\telse\n\t\t\treturn (<Landing toStartGame={false} final_winner={this.state.round_winner} gameCallback = {this.landingCallback}/>);\n\t}\n}\n\nexport default Game;\n"]},"metadata":{},"sourceType":"module"}