{"ast":null,"code":"import{w3cwebsocket as W3CWebSocket}from\"websocket\";var socket=new W3CWebSocket((window.location.protocol===\"https:\"?\"wss://\":\"ws://\")+window.location.host+\"/ws\");socket.onopen=function(){console.log('WebSocket Client Connected');};function sendMessage(ws,msg){// Wait until the state of the socket is not ready and send the message when it is...\nwaitForSocketConnection(function(){console.log(\"message sent!!!\");ws.send(msg);});}// Make the function wait until the connection is made...\nfunction waitForSocketConnection(ws,callback){setTimeout(function(){if(ws.readyState===1){console.log(\"Connection is made\");if(callback!=null){callback();}}else{console.log(\"wait for connection...\");waitForSocketConnection(ws,callback);}},5);// wait 5 milisecond for the connection...\n}sendMessage(socket,'hey');export default socket;","map":{"version":3,"sources":["/home/mayank/BoardGames/loveletters-premium/react/game/src/socket-context.js"],"names":["w3cwebsocket","W3CWebSocket","socket","window","location","protocol","host","onopen","console","log","sendMessage","ws","msg","waitForSocketConnection","send","callback","setTimeout","readyState"],"mappings":"AAAA,OAASA,YAAY,GAAIC,CAAAA,YAAzB,KAA6C,WAA7C,CAEA,GAAMC,CAAAA,MAAM,CAAG,GAAID,CAAAA,YAAJ,CAAiB,CAAEE,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA6B,QAA9B,CAA0C,QAA1C,CAAqD,OAAtD,EAAiEF,MAAM,CAACC,QAAP,CAAgBE,IAAjF,CAAwF,KAAzG,CAAf,CAGAJ,MAAM,CAACK,MAAP,CAAgB,UAAM,CACpBC,OAAO,CAACC,GAAR,CAAY,4BAAZ,EACD,CAFD,CAIA,QAASC,CAAAA,WAAT,CAAqBC,EAArB,CAAyBC,GAAzB,CAA6B,CACzB;AACAC,uBAAuB,CAAC,UAAU,CAC9BL,OAAO,CAACC,GAAR,CAAY,iBAAZ,EACAE,EAAE,CAACG,IAAH,CAAQF,GAAR,EACH,CAHsB,CAAvB,CAIH,CAED;AACA,QAASC,CAAAA,uBAAT,CAAiCF,EAAjC,CAAqCI,QAArC,CAA8C,CAC1CC,UAAU,CACN,UAAY,CACR,GAAIL,EAAE,CAACM,UAAH,GAAkB,CAAtB,CAAyB,CACrBT,OAAO,CAACC,GAAR,CAAY,oBAAZ,EACA,GAAIM,QAAQ,EAAI,IAAhB,CAAqB,CACjBA,QAAQ,GACX,CACJ,CALD,IAKO,CACHP,OAAO,CAACC,GAAR,CAAY,wBAAZ,EACAI,uBAAuB,CAACF,EAAD,CAAKI,QAAL,CAAvB,CACH,CAEJ,CAZK,CAYH,CAZG,CAAV,CAYW;AACd,CAEDL,WAAW,CAACR,MAAD,CAAS,KAAT,CAAX,CAGA,cAAeA,CAAAA,MAAf","sourcesContent":["import { w3cwebsocket as W3CWebSocket } from \"websocket\"\n\nconst socket = new W3CWebSocket(((window.location.protocol === \"https:\") ? \"wss://\" : \"ws://\") + window.location.host + \"/ws\")\n\n\nsocket.onopen = () => {\n  console.log('WebSocket Client Connected');\n};\n\nfunction sendMessage(ws, msg){\n    // Wait until the state of the socket is not ready and send the message when it is...\n    waitForSocketConnection(function(){\n        console.log(\"message sent!!!\");\n        ws.send(msg);\n    });\n}\n\n// Make the function wait until the connection is made...\nfunction waitForSocketConnection(ws, callback){\n    setTimeout(\n        function () {\n            if (ws.readyState === 1) {\n                console.log(\"Connection is made\")\n                if (callback != null){\n                    callback();\n                }\n            } else {\n                console.log(\"wait for connection...\")\n                waitForSocketConnection(ws, callback);\n            }\n\n        }, 5); // wait 5 milisecond for the connection...\n}\n\nsendMessage(socket, 'hey')\n\n\nexport default socket;"]},"metadata":{},"sourceType":"module"}