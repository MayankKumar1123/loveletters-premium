{"ast":null,"code":"import _classCallCheck from\"/Users/tejal/yo/loveletters-premium/react/game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/tejal/yo/loveletters-premium/react/game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/tejal/yo/loveletters-premium/react/game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/tejal/yo/loveletters-premium/react/game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/tejal/yo/loveletters-premium/react/game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'bootstrap/dist/css/bootstrap.css';import Button from'react-bootstrap/Button';import ListGroup from'react-bootstrap/ListGroup';import'./Game.css';import{Container,Row,Col}from'react-bootstrap';import socket from'./socket-context';var Landing=/*#__PURE__*/function(_React$Component){_inherits(Landing,_React$Component);var _super=_createSuper(Landing);function Landing(props){var _this;_classCallCheck(this,Landing);_this=_super.call(this,props);_this.startGame=function(){_this.setState({gameStatus:1},socket.send(JSON.stringify({'type':'startGame'})));console.log(\"sent Start\");};_this.startNewGame=function(){_this.setState({gameStatus:0},_this.props.gameCallback(_this.state));console.log(\"sent Start New game\");//nothing more to do here\n};_this.endGame=function(){// socket.send(JSON.stringify({'type':'leaveGame'})); \n// + call a disconnect of socket manually?\n//remove this player from the game metadata; it could still go on\n};_this.state={gameOn:true,all_players:[],showStartButton:false,// true for local testing, false for global\nuserID:' ',username:' ',gameStatus:0};_this.startGame=_this.startGame.bind(_assertThisInitialized(_this));_this.startNewGame=_this.startNewGame.bind(_assertThisInitialized(_this));_this.endGame=_this.endGame.bind(_assertThisInitialized(_this));return _this;}_createClass(Landing,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;socket.onopen=function(){console.log('WebSocket Client Connected');socket.send(JSON.stringify({'type':'players'}));};socket.onmessage=function(event){var obj=JSON.parse(event.data);console.log(obj);if(obj.type==='playersS'){_this2.setState({all_players:obj.plyrs,userID:obj.uid,username:obj.plyrs[obj.plyrs.length-1]//???????\n});if(obj.uid===obj.host)_this2.setState({showStartButton:true});}else if(obj.type==='startGame')_this2.props.gameCallback(_this2.state);};//   \tsocket.on('disconnect', () => {\n//     console.log(this.state.username + ' disconnected');\n//     const index = this.state.all_players.indexOf(this.state.username);\n//     this.setState({all_players: all_players.splice(index, 1)});\n// });\n}},{key:\"render\",value:function render(){if(this.props.toStartGame){return/*#__PURE__*/React.createElement(Container,{className:\"Game-header\"},/*#__PURE__*/React.createElement(Row,{style:{margin:'auto'}},/*#__PURE__*/React.createElement(\"h4\",{className:\"Play-status\"},\"Waiting For Players...\")),/*#__PURE__*/React.createElement(Row,{style:{margin:'auto'}},/*#__PURE__*/React.createElement(ListGroup,null,this.state.all_players.map(function(item,i){return/*#__PURE__*/React.createElement(ListGroup.Item,{className:\"List-item-design\",key:item},item);}))),/*#__PURE__*/React.createElement(Row,{style:{width:'50vw'}},/*#__PURE__*/React.createElement(Button,{size:\"lg\",block:true,className:\"Confirm-button\",disabled:!this.state.showStartButton,onClick:this.startGame},\"Start Game\")));}else{return/*#__PURE__*/React.createElement(Container,{className:\"Game-header\"},/*#__PURE__*/React.createElement(Row,{style:{margin:'auto'}},/*#__PURE__*/React.createElement(\"h4\",{className:\"Play-status\"},this.props.final_winner,\" won the game!\")),/*#__PURE__*/React.createElement(Row,{style:{margin:'auto'}},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Button,{size:\"lg\",style:{width:'30vw'},block:true,className:\"Confirm-button\",onClick:this.endGame},\"Leave Game\")),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Button,{size:\"lg\",style:{width:'30vw'},block:true,className:\"Confirm-button\",onClick:this.startNewGame},\"Start New Game\"))));}}}]);return Landing;}(React.Component);export default Landing;","map":{"version":3,"sources":["/Users/tejal/yo/loveletters-premium/react/game/src/Landing.js"],"names":["React","Button","ListGroup","Container","Row","Col","socket","Landing","props","startGame","setState","gameStatus","send","JSON","stringify","console","log","startNewGame","gameCallback","state","endGame","gameOn","all_players","showStartButton","userID","username","bind","onopen","onmessage","event","obj","parse","data","type","plyrs","uid","length","host","toStartGame","margin","map","item","i","width","final_winner","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport Button from 'react-bootstrap/Button';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport './Game.css';\nimport {Container, Row, Col} from 'react-bootstrap';\nimport socket from './socket-context';\n\n\nclass Landing extends React.Component {\n\n\tconstructor(props) {\n\t    super(props);\n\t    this.state = {\n\t    \tgameOn: true,\n\t    \tall_players: [],\n\t    \tshowStartButton: false, // true for local testing, false for global\n\t    \tuserID: ' ',\n\t    \tusername: ' ',\n\t    \tgameStatus: 0\n\t    };\n\t   \tthis.startGame = this.startGame.bind(this);\n\t   \tthis.startNewGame = this.startNewGame.bind(this);\n\t   \tthis.endGame = this.endGame.bind(this);\n\t}\n\t\n\tcomponentDidMount() {\n\t   \tsocket.onopen = () => {\n\t\t\tconsole.log('WebSocket Client Connected');\n\t\t\tsocket.send(JSON.stringify({'type':'players'}));\n\t\t};\n\n\n\t   \tsocket.onmessage = (event) => {\n\t   \t\tvar obj = JSON.parse(event.data);\n\t\t\tconsole.log(obj);\n\t\t\t\n\t\t\tif(obj.type === 'playersS'){\n\t\t\t\tthis.setState({\n\t\t\t\t\tall_players: obj.plyrs,\n\t\t\t\t\tuserID: obj.uid,\n\t\t\t\t\tusername: obj.plyrs[obj.plyrs.length-1] //???????\n\t\t\t\t});\n\t\t\t\tif(obj.uid === obj.host)\n\t\t\t\t\tthis.setState({showStartButton: true});\n\t\t\t}\n\t\t\telse if(obj.type === 'startGame')\n\t\t\t\tthis.props.gameCallback(this.state);\n\t   \t}\n\n\t   \t\n\t //   \tsocket.on('disconnect', () => {\n\t\t//     console.log(this.state.username + ' disconnected');\n\t\t//     const index = this.state.all_players.indexOf(this.state.username);\n\t\t//     this.setState({all_players: all_players.splice(index, 1)});\n\t\t// });\n\t}\n\n\tstartGame = () => {\n\t\tthis.setState(\n\t\t\t{gameStatus: 1},\n\t\t\tsocket.send(JSON.stringify({'type':'startGame'})));\n\t\tconsole.log(\"sent Start\")\n\t}\n\n\tstartNewGame = () => {\n\t\tthis.setState(\n\t\t\t{gameStatus: 0},\n\t\t\tthis.props.gameCallback(this.state));\n\t\tconsole.log(\"sent Start New game\"); //nothing more to do here\n\t}\n\n\tendGame = () => {\n\t\t// socket.send(JSON.stringify({'type':'leaveGame'})); \n\t\t// + call a disconnect of socket manually?\n\t\t//remove this player from the game metadata; it could still go on\n\t}\n\n\trender() {\n\t\tif(this.props.toStartGame) {\n\t\t\treturn(\n\t\t\t\t<Container className=\"Game-header\">\n\t\t\t\t  \t<Row style={{margin: 'auto'}}>\n\t\t\t\t  \t\t<h4 className='Play-status'>Waiting For Players...</h4>\n\t\t\t\t  \t</Row>\n\t\t\t\t  \t<Row style={{margin: 'auto'}}>\n\t\t\t\t  \t\t<ListGroup>\n\t\t\t  \t\t\t\t{this.state.all_players.map((item, i) => {\n\t\t\t\t\t\t\t\treturn <ListGroup.Item className='List-item-design' key={item}>\n\t\t\t\t\t\t\t\t\t\t\t{item}\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>})}\n\t\t\t\t\t\t</ListGroup>\n\t\t\t\t  \t</Row>\n\t\t\t\t  \t<Row style={{width: '50vw'}}> \n\t\t\t\t  \t\t<Button size=\"lg\" block className='Confirm-button' disabled={!this.state.showStartButton} onClick={this.startGame}>Start Game</Button>\n\t\t\t\t  \t</Row>\n\t\t\t\t</Container>\n\t\t\t);\n\t\t} \n\t\telse {\n\t\t\treturn(\n\t\t\t\t<Container className=\"Game-header\">\n\t\t\t\t<Row style={{margin: 'auto'}}>\n\t\t\t\t  \t<h4 className='Play-status'>{this.props.final_winner} won the game!</h4>\n\t\t\t  \t</Row>\n\t\t\t  \t<Row style={{margin: 'auto'}}> \n\t\t\t  \t\t<Col><Button size=\"lg\" style={{width: '30vw'}} block className='Confirm-button' onClick={this.endGame}>Leave Game</Button></Col>\n\t\t\t  \t\t<Col><Button size=\"lg\" style={{width: '30vw'}} block className='Confirm-button' onClick={this.startNewGame}>Start New Game</Button></Col>\n\t\t\t  \t</Row>\n\t\t\t\t</Container>\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport default Landing;\n"]},"metadata":{},"sourceType":"module"}