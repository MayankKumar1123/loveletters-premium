(this.webpackJsonpgame=this.webpackJsonpgame||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,s){},,,,,,,,,,function(e,t,s){var a={"./miniAssassin.png":59,"./miniBaron.png":60,"./miniBaroness.png":61,"./miniBishop.png":62,"./miniCardinal.png":63,"./miniConstable.png":64,"./miniCount.png":65,"./miniCountess.png":66,"./miniDowager Queen.png":67,"./miniGuard.png":68,"./miniHandmaid.png":69,"./miniJester.png":70,"./miniKing.png":71,"./miniPriest.png":72,"./miniPrince.png":73,"./miniPrincess.png":74,"./miniSycophant.png":75};function i(e){var t=n(e);return s(t)}function n(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=n,e.exports=i,i.id=24},,,,,,,,,,function(e,t,s){e.exports=s(85)},,,,,function(e,t,s){},function(e,t,s){var a={"./Assassin.jpeg":41,"./Baron.jpeg":42,"./Baroness.jpeg":43,"./Bishop.jpeg":44,"./Cardinal.jpeg":45,"./Constable.jpeg":46,"./Count.jpeg":47,"./Countess.jpeg":48,"./Dowager Queen.jpeg":49,"./Guard.jpeg":50,"./Handmaid.jpeg":51,"./Jester.jpeg":52,"./King.jpeg":53,"./Priest.jpeg":54,"./Prince.jpeg":55,"./Princess.jpeg":56,"./Sycophant.jpeg":57,"./loading_card.jpeg":58};function i(e){var t=n(e);return s(t)}function n(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=n,e.exports=i,i.id=40},function(e,t,s){e.exports=s.p+"static/media/Assassin.378bfb5f.jpeg"},function(e,t,s){e.exports=s.p+"static/media/Baron.746fcb29.jpeg"},function(e,t,s){e.exports=s.p+"static/media/Baroness.9412a60f.jpeg"},function(e,t,s){e.exports=s.p+"static/media/Bishop.dc3946bc.jpeg"},function(e,t,s){e.exports=s.p+"static/media/Cardinal.25c40e09.jpeg"},function(e,t,s){e.exports=s.p+"static/media/Constable.30fe3a5c.jpeg"},function(e,t,s){e.exports=s.p+"static/media/Count.33b17be7.jpeg"},function(e,t,s){e.exports=s.p+"static/media/Countess.b39b3239.jpeg"},function(e,t,s){e.exports=s.p+"static/media/Dowager Queen.f88d1e27.jpeg"},function(e,t,s){e.exports=s.p+"static/media/Guard.d9e4ee43.jpeg"},function(e,t,s){e.exports=s.p+"static/media/Handmaid.2184414b.jpeg"},function(e,t,s){e.exports=s.p+"static/media/Jester.c3c265f4.jpeg"},function(e,t,s){e.exports=s.p+"static/media/King.49f2efa9.jpeg"},function(e,t,s){e.exports=s.p+"static/media/Priest.79047ce6.jpeg"},function(e,t,s){e.exports=s.p+"static/media/Prince.84d1cfb6.jpeg"},function(e,t,s){e.exports=s.p+"static/media/Princess.dbe5ffb7.jpeg"},function(e,t,s){e.exports=s.p+"static/media/Sycophant.67d055f9.jpeg"},function(e,t,s){e.exports=s.p+"static/media/loading_card.e650822c.jpeg"},function(e,t,s){e.exports=s.p+"static/media/miniAssassin.19d24654.png"},function(e,t,s){e.exports=s.p+"static/media/miniBaron.dc131462.png"},function(e,t,s){e.exports=s.p+"static/media/miniBaroness.d9ca5cc6.png"},function(e,t,s){e.exports=s.p+"static/media/miniBishop.c0a4c1f4.png"},function(e,t,s){e.exports=s.p+"static/media/miniCardinal.d829f3c8.png"},function(e,t,s){e.exports=s.p+"static/media/miniConstable.51374d4c.png"},function(e,t,s){e.exports=s.p+"static/media/miniCount.18bdc837.png"},function(e,t,s){e.exports=s.p+"static/media/miniCountess.bd301fa1.png"},function(e,t,s){e.exports=s.p+"static/media/miniDowager Queen.b7ec745b.png"},function(e,t,s){e.exports=s.p+"static/media/miniGuard.9421d3f3.png"},function(e,t,s){e.exports=s.p+"static/media/miniHandmaid.1b2f890b.png"},function(e,t,s){e.exports=s.p+"static/media/miniJester.0c0b3d7e.png"},function(e,t,s){e.exports=s.p+"static/media/miniKing.fd38d7a6.png"},function(e,t,s){e.exports=s.p+"static/media/miniPriest.91e45564.png"},function(e,t,s){e.exports=s.p+"static/media/miniPrince.aeed87fd.png"},function(e,t,s){e.exports=s.p+"static/media/miniPrincess.6d4e2eed.png"},function(e,t,s){e.exports=s.p+"static/media/miniSycophant.c14aaac9.png"},,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAANjCAYAAAB2rGQGAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAA9aSURBVHhe7dYxAQAgDMCwgX/PwIGEnslTC13nGQAAMvsXAICIwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIAiBksAICYwQIASM1clssKwij1jhcAAAAASUVORK5CYII="},,,,function(e,t,s){"use strict";s.r(t);var a=s(0),i=s.n(a),n=s(26),r=s.n(n),l=(s(39),s(7)),A=s(8),I=s(2),c=s(10),o=s(9),u=(s(14),s(16),s(11)),C=s(12),d=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).clickCard=function(){s.setState({opacity:.9})},s.state={selected:1},s.clickCard=s.clickCard.bind(Object(I.a)(s)),s}return Object(A.a)(a,[{key:"getCard",value:function(){return s(40)("./"+this.props.cardname+".jpeg")}},{key:"render",value:function(){return i.a.createElement(C.a,{onClick:this.clickCard,className:"Card-design"},i.a.createElement(C.a.Body,{style:{padding:0}},i.a.createElement(u.a,{className:"card-button",variant:"info"},i.a.createElement(C.a.Img,{src:this.getCard()}))))}}]),a}(i.a.Component),k=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"getCard",value:function(e){return s(24)("./mini"+e+".png")}},{key:"render",value:function(){var e=this,t=[];return void 0!==this.props.allCardsDiscarded&&(t=this.props.allCardsDiscarded),i.a.createElement("div",{className:"Card-carousel"},t.map((function(t,s){return i.a.createElement("div",{key:t},i.a.createElement(C.a,{style:0===s?{width:"3rem",marginLeft:"1px"}:{width:"3rem",marginLeft:"-2px"}},i.a.createElement(C.a.Body,{style:{padding:0}},i.a.createElement(C.a.Img,{src:e.getCard(t)}))))})))}}]),a}(i.a.Component),m=s(15),w=s(13),B=s(86),p=s(87),Q=s(17),Y=s(18),g=function(e){Object(c.a)(s,e);var t=Object(o.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).state={selectedPlayers:a.props.syco,selectionSatisfied:!1,selectedNumber:-1,num_disabled_players:a.props.immune.length+a.props.eliminated.length,num_players:Object.keys(a.props.all_players).length},a.selectPlayer=a.selectPlayer.bind(Object(I.a)(a)),a.selectNumber=a.selectNumber.bind(Object(I.a)(a)),a.endPlay=a.endPlay.bind(Object(I.a)(a)),a.getList=a.getList.bind(Object(I.a)(a)),a}return Object(A.a)(s,[{key:"selectPlayer",value:function(e,t){var s=this.state.selectedPlayers,a=0;"single"===e?this.state.num_disabled_players===this.state.num_players-1&&"Prince"!==this.props.cardPlayed&&"Sycophant"!==this.props.cardPlayed?this.setState({selectionSatisfied:!0}):(0===this.props.syco.length&&(s=[t]),"Guard"!==this.props.cardPlayed&&"Bishop"!==this.props.cardPlayed?this.setState({selectionSatisfied:!0,selectedPlayers:s}):this.setState({selectedPlayers:s})):((0===this.props.syco.length||!this.props.syco.indexOf(t)>=0)&&(void 0!==(a=s.indexOf(t))&&a>=0?s.splice(a,1):s=s.concat(t)),"double"===e?this.state.num_disabled_players===this.state.num_players-1||this.state.num_disabled_players>=this.state.num_players-2&&"Cardinal"!==this.props.cardPlayed?this.setState({selectionSatisfied:!0}):2===s.length?this.setState({selectionSatisfied:!0,selectedPlayers:s}):this.setState({selectionSatisfied:!1,selectedPlayers:s}):this.state.num_disabled_players===this.state.num_players-1?this.setState({selectionSatisfied:!0}):1===s.length||2===s.length?this.setState({selectionSatisfied:!0,selectedPlayers:s}):this.setState({selectionSatisfied:!1,selectedPlayers:s})),console.log("selected player ids:"+s)}},{key:"selectNumber",value:function(e){this.setState({selectionSatisfied:!0,selectedNumber:e}),console.log("selected number:"+e)}},{key:"endPlay",value:function(){var e={type:"discard"};e.player=this.props.currentPlayer,e.card=this.props.cardPlayed,e.player1=null,e.player2=null,e.number=null,this.state.selectedPlayers.length>0&&(e.player1=this.state.selectedPlayers[0]),this.state.selectedPlayers.length>1&&(e.player2=this.state.selectedPlayers[1]),-1!==this.state.selectedNumber&&(e.number=this.state.selectedNumber),console.log("sending to round=",e),this.props.roundCallback(e)}},{key:"getList",value:function(){var e=this,t=null;if(["Assassin","Constable","Count","Countess","Handmaid","Princess"].indexOf(this.props.cardPlayed)>=0)t=null,console.log("list is null");else{var s="Prince"===this.props.cardPlayed||"Sycophant"===this.props.cardPlayed||"Cardinal"===this.props.cardPlayed,a="",n=!1,r=!1,l=!1;a="Baroness"===this.props.cardPlayed?"either":"Cardinal"===this.props.cardPlayed?"double":"single",t=i.a.createElement(w.a,null,Object.entries(this.props.all_players).map((function(t){var A=Object(m.a)(t,2),I=A[0],c=A[1];return n=e.props.immune.indexOf(I)>=0,r=e.props.syco.indexOf(I)>=0,l=e.props.eliminated.indexOf(I)>=0,i.a.createElement(w.a.Item,{className:"List-item-design",variant:e.state.selectedPlayers.indexOf(I)>=0?"dark":"light",key:I,disabled:!s&&I===e.props.currentPlayer||n||l,onClick:function(t){return e.selectPlayer(a,I,t)}},c,n?i.a.createElement(Q.a,{style:{float:"right"},icon:Y.c}):r?i.a.createElement(Q.a,{style:{float:"right"},icon:Y.a}):l?i.a.createElement(Q.a,{style:{float:"right"},icon:Y.d}):i.a.createElement("div",null))})))}return t}},{key:"render",value:function(){var e=this,t=this.getList();return null!=t?(console.log("RENDER: PlayCard for @"+this.props.currentPlayer),i.a.createElement("div",{style:{margin:"auto"}},i.a.createElement(B.a,{style:{justifyContent:"center"}},i.a.createElement(p.a,null,t),"Guard"===this.props.cardPlayed||"Bishop"===this.props.cardPlayed?i.a.createElement(p.a,null,i.a.createElement(w.a,null,[1,2,3,4,5,6,7,8,9].map((function(t,s){return i.a.createElement(w.a.Item,{className:"List-item-design",variant:e.state.selectedNumber===t?"dark":"light",key:t,disabled:1===t,onClick:function(s){return e.selectNumber(t,s)}},t)})))):i.a.createElement("div",null)),i.a.createElement(B.a,{style:{width:"50vw",paddingTop:"10px",margin:"auto"}},i.a.createElement(u.a,{size:"lg",block:!0,className:"Confirm-button",disabled:!this.state.selectionSatisfied,onClick:this.endPlay},"OK")))):(console.log("RENDER: PlayCard for a non-choice card for @"+this.props.currentPlayer),i.a.createElement("div",null,this.endPlay()))}}]),s}(i.a.Component),y=s(88),h=function(e){Object(c.a)(s,e);var t=Object(o.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).discard=function(){a.setState({playMode:1,discard_pile:a.state.discard_pile.concat(a.state.cardToPlay)}),console.log(a.props.all_players[a.state.currentPlayer]+" is discarding "+a.state.cardToPlay)},a.endTurn=function(){if(null!==a.state.results.roundWinner){console.log("We have a round winner");var e=a.state.results;e.currentCards[a.props.userID]=a.state.currentCards[0],a.props.gameCallback(e),console.log("Round winner sent to Game")}},a.endTurnByButton=function(){a.setState({turnEnded:!0}),null===a.state.results.roundWinner&&(console.log("No round winner yet"),a.props.socket.send(JSON.stringify({type:"nextTurn"})),console.log("sent nextTurn for @"+a.props.username)),a.endTurn()},a.playCardCallback=function(e){a.props.socket.send(JSON.stringify(e)),console.log("sent played values from Round for @"+a.props.username)},a.state={cardToPlay:" ",cardRemaining:" ",playMode:0,currentPlayer:" ",playStatus:" ",results:{},currentCards:[],immune:[],syco:[],eliminated:[],prevTurnMessage:" ",discard_pile:[],turnEnded:!1},a.getTurn=a.getTurn.bind(Object(I.a)(a)),a.getResults=a.getResults.bind(Object(I.a)(a)),a.selectCard=a.selectCard.bind(Object(I.a)(a)),a.discard=a.discard.bind(Object(I.a)(a)),a.endTurn=a.endTurn.bind(Object(I.a)(a)),a.endTurnByButton=a.endTurnByButton.bind(Object(I.a)(a)),a.playCardCallback=a.playCardCallback.bind(Object(I.a)(a)),a.props.socket.send(JSON.stringify({type:"nextRound"})),console.log("sent nextRound for @"+a.props.username),a}return Object(A.a)(s,[{key:"getTurn",value:function(e){this.setState({playMode:0,currentPlayer:e.player,currentCards:e.cards,immune:e.immune,syco:e.sycho,eliminated:e.eliminated,prevTurnMessage:e.prevTurn,playStatus:this.props.all_players[e.player]+" is playing"})}},{key:"getResults",value:function(e){null!==e.roundWinner&&e.discard_pile===[]&&this.setState({turnEnded:!0}),this.setState({playMode:2,results:e,discard_pile:e.discard_pile})}},{key:"selectCard",value:function(e,t){this.setState({cardToPlay:e,cardRemaining:t})}},{key:"render",value:function(){var e=this;console.log("user = "+this.props.userID),console.log("currentPlayer = "+this.state.currentPlayer),console.log(this.state.currentCards);var t=this.state.currentCards[0];if(void 0===t&&(t="loading_card"),this.props.userID===this.state.currentPlayer){console.log(this.props.username+"is playing");var s=this.state.currentCards[1];return void 0===s&&(s="loading_card"),0===this.state.playMode?(console.log("RENDER MODE: current player x choosing card"),i.a.createElement(y.a,{className:"Game-header"},i.a.createElement(B.a,null,i.a.createElement(k,{allCardsDiscarded:this.state.discard_pile})),i.a.createElement(B.a,{style:{margin:"auto"}},null!==this.state.prevTurnMessage?i.a.createElement("h5",{className:"Play-status"},this.state.prevTurnMessage):i.a.createElement("div",null)),i.a.createElement("hr",null),i.a.createElement(B.a,{style:{margin:"auto"}},i.a.createElement("h4",{className:"Play-status"},this.state.playStatus)),i.a.createElement("hr",null),i.a.createElement(B.a,{style:{margin:"auto"}},i.a.createElement(p.a,{style:{display:"inline-flex",justifyContent:"center"},onClick:function(a){return e.selectCard(t,s,a)}},i.a.createElement(d,{cardname:t})),i.a.createElement(p.a,{style:{display:"inline-flex",justifyContent:"center"},onClick:function(a){return e.selectCard(s,t,a)}},i.a.createElement(d,{cardname:s}))),i.a.createElement(B.a,{style:{width:"50vw"}},i.a.createElement(u.a,{size:"lg",block:!0,className:"Confirm-button",disabled:" "===this.state.cardToPlay,onClick:this.discard},"Discard")))):1===this.state.playMode?(console.log("RENDER MODE: current player x playing card"),i.a.createElement(y.a,{className:"Game-header"},i.a.createElement(B.a,null,i.a.createElement(k,{allCardsDiscarded:this.state.discard_pile})),i.a.createElement(B.a,{style:{margin:"auto"}},i.a.createElement("h4",{className:"Play-status"},this.state.playStatus)),i.a.createElement("hr",null),i.a.createElement(g,{currentPlayer:this.state.currentPlayer,cardPlayed:this.state.cardToPlay,cardRemaining:this.state.cardRemaining,roundCallback:this.playCardCallback,all_players:this.props.all_players,immune:this.state.immune,syco:this.state.syco,eliminated:this.state.eliminated}))):(console.log("RENDER MODE: current player x results"),i.a.createElement(y.a,{className:"Game-header"},i.a.createElement(B.a,null,i.a.createElement(k,{allCardsDiscarded:this.state.discard_pile})),i.a.createElement(B.a,{style:{margin:"auto"}},i.a.createElement("h4",{className:"Play-status"},this.state.results.statusMsg)),i.a.createElement("hr",null),i.a.createElement(B.a,{style:{margin:"auto"}},i.a.createElement("h3",{className:"Play-status"},this.state.results.resultMsg)),i.a.createElement("hr",null),i.a.createElement(B.a,null,null!==this.state.results.card1?i.a.createElement(p.a,{style:{display:"inline-flex",justifyContent:"center"}},i.a.createElement(d,{cardname:this.state.results.card1})):i.a.createElement("div",null),null!==this.state.results.card2?i.a.createElement(p.a,{style:{display:"inline-flex",justifyContent:"center"}},i.a.createElement(d,{cardname:this.state.results.card2})):i.a.createElement("div",null)),i.a.createElement(B.a,{style:{width:"50vw",paddingTop:"10px",margin:"auto"}},i.a.createElement(u.a,{size:"lg",block:!0,className:"Confirm-button",onClick:this.endTurnByButton},"OK"))))}return this.props.userID!==this.state.results.player1&&this.props.userID!==this.state.results.player2||2!==this.state.playMode?(console.log("RENDER MODE: other players/one of the players involved in the turn x playmode!=2"),this.state.turnEnded&&this.endTurn(),i.a.createElement(y.a,{className:"Game-header"},i.a.createElement(B.a,null,i.a.createElement(k,{allCardsDiscarded:this.state.discard_pile})),2===this.state.playMode?i.a.createElement("div",{style:{margin:"auto"}},i.a.createElement(B.a,{style:{margin:"auto"}},i.a.createElement("h4",{className:"Play-status"},this.state.results.statusMsg)),i.a.createElement("hr",null),i.a.createElement(B.a,{style:{margin:"auto"}},i.a.createElement("h3",{className:"Play-status"},this.state.results.resultMsg)),i.a.createElement("hr",null)):null!==this.state.prevTurnMessage?i.a.createElement("div",{style:{margin:"auto"}},i.a.createElement(B.a,{style:{margin:"auto"}},i.a.createElement("h5",{className:"Play-status"},this.state.prevTurnMessage)),i.a.createElement("hr",null)):i.a.createElement("div",null),this.state.eliminated.indexOf(this.props.userID)>=0?i.a.createElement("div",{style:{margin:"auto"}},i.a.createElement(B.a,{style:{margin:"auto"}},i.a.createElement("h3",{className:"Play-status"},"You have been eliminated")),i.a.createElement("hr",null)):i.a.createElement("div",{style:{margin:"auto"}},i.a.createElement(B.a,{style:{margin:"auto"}},i.a.createElement("h3",{className:"Play-status"},"It's not your turn")),i.a.createElement("hr",null),i.a.createElement(B.a,{style:{margin:"auto"}},i.a.createElement(p.a,{style:{display:"inline-flex",justifyContent:"center"}},i.a.createElement(d,{cardname:t})))))):(console.log("RENDER MODE: one of the players involved in the turn x results"),this.state.turnEnded&&this.endTurn(),i.a.createElement(y.a,{className:"Game-header"},i.a.createElement(B.a,null,i.a.createElement(k,{allCardsDiscarded:this.state.discard_pile})),i.a.createElement(B.a,{style:{margin:"auto"}},i.a.createElement("h4",{className:"Play-status"},this.state.results.statusMsg)),i.a.createElement("hr",null),i.a.createElement(B.a,{style:{margin:"auto"}},i.a.createElement("h3",{className:"Play-status"},this.state.results.resultMsg)),i.a.createElement("hr",null),i.a.createElement(B.a,{style:{margin:"auto"}},null!==this.state.results.card1?i.a.createElement(p.a,{style:{display:"inline-flex",justifyContent:"center"}},i.a.createElement(d,{cardname:this.state.results.card1})):i.a.createElement("div",null),null!==this.state.results.card2?i.a.createElement(p.a,{style:{display:"inline-flex",justifyContent:"center"}},i.a.createElement(d,{cardname:this.state.results.card2})):i.a.createElement("div",null))))}}]),s}(i.a.Component),f=function(e){Object(c.a)(s,e);var t=Object(o.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).startGame=function(){a.props.socket.send(JSON.stringify({type:"startGame"})),console.log("@"+a.props.username+" sent startGame")},a.leaveGame=function(){a.props.socket.send(JSON.stringify({type:"leaveGame"})),console.log("@"+a.props.username+" sent leaveGame")},a.state={gameOn:!0,all_players:{},showStartButton:!1,userID:" ",username:" ",gameStatus:0},a.getPlayers=a.getPlayers.bind(Object(I.a)(a)),a.getStartGame=a.getStartGame.bind(Object(I.a)(a)),a.startGame=a.startGame.bind(Object(I.a)(a)),a.leaveGame=a.leaveGame.bind(Object(I.a)(a)),a}return Object(A.a)(s,[{key:"getPlayers",value:function(e){this.setState({all_players:e.plyrs,userID:e.uid,username:e.username}),e.uid===e.host&&this.setState({showStartButton:!0})}},{key:"getStartGame",value:function(e){this.setState({gameStatus:1}),this.props.gameCallback(this.state),console.log("starting game for @"+this.props.username)}},{key:"render",value:function(){if(!this.props.leavingGame)return i.a.createElement(y.a,{className:"Game-header"},i.a.createElement(B.a,{style:{margin:"auto"}},i.a.createElement("h4",{className:"Play-status"},"Waiting For Players...")),i.a.createElement("hr",null),i.a.createElement(B.a,{style:{margin:"auto"}},i.a.createElement(w.a,null,Object.entries(this.state.all_players).map((function(e){var t=Object(m.a)(e,2),s=t[0],a=t[1];return i.a.createElement(w.a.Item,{className:"List-item-design",key:s},a)})))),i.a.createElement(B.a,{style:{width:"50vw"}},i.a.createElement(u.a,{size:"lg",block:!0,className:"Confirm-button",disabled:!this.state.showStartButton,onClick:this.startGame},"Start Game")))}}]),s}(i.a.Component),E=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).getResults=s.getResults.bind(Object(I.a)(s)),s.getCard=s.getCard.bind(Object(I.a)(s)),s}return Object(A.a)(a,[{key:"getCard",value:function(e){var t=s(24)("./mini"+e+".png");return void 0===t?s(81):t}},{key:"getResults",value:function(){var e=this.props.points,t=i.a.createElement(Q.a,{icon:Y.b}),s=i.a.createElement("span",null,"\xa0\xa0");return Object.entries(e).map((function(a){for(var i=Object(m.a)(a,2),n=i[0],r=i[1],l=[],A=0;A<r;A++)l=l.concat(t).concat(s);e[n]=l})),e}},{key:"render",value:function(){var e=this,t=this.getResults();return i.a.createElement(y.a,{className:"Game-header"},i.a.createElement(B.a,{style:{margin:"auto"}},i.a.createElement("h3",{className:"Play-status"},this.props.allPlayers[this.props.winner],"'s letter reached the Princess!")),i.a.createElement("hr",null),null!==this.props.gameWinner?i.a.createElement("div",{style:{margin:"auto"}},i.a.createElement(B.a,{style:{margin:"auto"}},i.a.createElement("h2",{className:"Play-status"},this.props.allPlayers[this.props.gameWinner]," won the Princess' heart!")),i.a.createElement("hr",null)):i.a.createElement("div",null),i.a.createElement(B.a,{style:{margin:"auto"}},i.a.createElement(w.a,null,Object.entries(t).map((function(t){var s=Object(m.a)(t,2),a=s[0],n=s[1];return i.a.createElement(w.a.Item,{key:a,className:"List-item-design Container"},i.a.createElement(B.a,null,i.a.createElement(p.a,{style:{display:"inline"}},i.a.createElement(C.a,{style:{width:"3rem"}},i.a.createElement(C.a.Body,{style:{padding:0}},i.a.createElement(C.a.Img,{src:e.getCard(e.props.cardsAtRoundEnd[a])})))),i.a.createElement(p.a,{style:{display:"inline"}},e.props.allPlayers[a]),i.a.createElement(p.a,{style:{display:"inline"}},n.map((function(e,t){return i.a.createElement("span",{style:{float:"right"}},e)})))))})))),null!==this.props.gameWinner?i.a.createElement(B.a,{style:{width:"50vw"}},i.a.createElement(p.a,null,i.a.createElement(u.a,{size:"lg",block:!0,className:"Confirm-button",onClick:function(t){return e.props.gameCallback(!0)}},"Start New Game")),i.a.createElement(p.a,null,i.a.createElement(u.a,{size:"lg",block:!0,className:"Confirm-button",onClick:function(t){return e.props.gameCallback(!1)}},"Leave Game"))):i.a.createElement(B.a,{style:{width:"50vw"}},i.a.createElement(u.a,{size:"lg",block:!0,className:"Confirm-button",onClick:function(t){return e.props.gameCallback(!0)}},"Start Next Round")))}}]),a}(i.a.Component),b=new(s(31).w3cwebsocket)(("https:"===window.location.protocol?"wss://":"ws://")+window.location.host+"/ws"),v=function(e){Object(c.a)(s,e);var t=Object(o.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).landingCallback=function(e){a.setState({gameStatus:e.gameStatus,all_players:e.all_players,userID:e.userID,username:e.username}),console.log("player info received from landing:",e),console.log("set gameStatus to 1")},a.roundCallback=function(e){var t=a.state.cardsAtRoundEnd;t.push(e.currentCards),a.setState({rounds_played:a.state.rounds_played+1,tokens:e.tokens,gameStatus:2,roundWinner:e.roundWinner,gameWinner:e.gameWinner,cardsAtRoundEnd:t}),console.log("results received from Round @"+a.state.username),console.log("set gameStatus to 2"),console.log("values got from round:",e)},a.resultsCallback=function(e){null!==a.state.gameWinner&&!0===e?(a.setState({gameStatus:0,leavingGame:!1}),console.log("We have a game winner; set state=0 to start new game @"+a.state.username)):null===a.state.gameWinner&&!0===e?(a.setState({gameStatus:1}),console.log("No game winner yet; set state=1 to start next round @"+a.state.username)):(a.setState({gameStatus:0,leavingGame:!0}),console.log("set state=0 and @"+a.state.username+" is leaving the game"))},a.state={gameStatus:0,leavingGame:!1,rounds_played:0,all_players:{},tokens:{p1:0,p2:0,p3:0},roundWinner:" ",gameWinner:" ",cardsAtRoundEnd:[],userID:" ",username:" "},a.landingCallback=a.landingCallback.bind(Object(I.a)(a)),a.roundCallback=a.roundCallback.bind(Object(I.a)(a)),a.resultsCallback=a.resultsCallback.bind(Object(I.a)(a)),a.landingRef=i.a.createRef(),a.roundRef=i.a.createRef(),a}return Object(A.a)(s,[{key:"componentDidMount",value:function(){var e=this;b.onopen=function(){console.log("WebSocket Client Connected"),b.send(JSON.stringify({type:"players"}))},b.onmessage=function(t){var s=JSON.parse(t.data);console.log(s),console.log(s.type),"playersS"===s.type?(e.landingRef.current.getPlayers(s),console.log("playersS received @"+e.state.username)):"startGame"===s.type?(e.landingRef.current.getStartGame(s),console.log("startGame received @"+e.state.username)):"turn"===s.type?(console.log("turn received @"+e.state.username),e.roundRef.current.getTurn(s),console.log("turn sent back to round @"+e.state.username)):"results"===s.type&&(console.log("results received @"+e.state.username),e.roundRef.current.getResults(s),console.log("results sent back to round @"+e.state.username))}}},{key:"render",value:function(){return 0===this.state.gameStatus?i.a.createElement(f,{ref:this.landingRef,leavingGame:this.state.leavingGame,gameCallback:this.landingCallback,socket:b,username:this.state.username}):1===this.state.gameStatus?i.a.createElement(h,{ref:this.roundRef,gameCallback:this.roundCallback,all_players:this.state.all_players,userID:this.state.userID,username:this.state.username,socket:b}):2===this.state.gameStatus?i.a.createElement(E,{points:this.state.tokens,allPlayers:this.state.all_players,winner:this.state.roundWinner,gameWinner:this.state.gameWinner,cardsAtRoundEnd:this.state.cardsAtRoundEnd,gameCallback:this.resultsCallback}):void 0}}]),s}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[34,1,2]]]);
//# sourceMappingURL=main.b1208676.chunk.js.map