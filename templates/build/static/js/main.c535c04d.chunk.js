(this.webpackJsonpgame=this.webpackJsonpgame||[]).push([[0],[,,,,,,,,,,,,,function(e,a,t){},,,,,,,,function(e,a,t){var n={"./Assassin.png":39,"./Baron.png":40,"./Baroness.png":41,"./Bishop.png":42,"./Cardinal.png":43,"./Constable.png":44,"./Count.png":45,"./Countess.png":46,"./Dowager Queen.png":47,"./Guard.png":48,"./Handmaid.png":49,"./Jester.png":50,"./King.png":51,"./Priest.png":52,"./Prince.png":53,"./Princess.png":54,"./Sycophant.png":55};function s(e){var a=r(e);return t(a)}function r(e){if(!t.o(n,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id=21},,,,,,,,,,,,function(e,a,t){e.exports=t(70)},,,,,function(e,a,t){},function(e,a,t){e.exports=t.p+"static/media/Assassin.6c7b8198.png"},function(e,a,t){e.exports=t.p+"static/media/Baron.ac315008.png"},function(e,a,t){e.exports=t.p+"static/media/Baroness.1c5a87ee.png"},function(e,a,t){e.exports=t.p+"static/media/Bishop.0b0e0959.png"},function(e,a,t){e.exports=t.p+"static/media/Cardinal.c7b46de0.png"},function(e,a,t){e.exports=t.p+"static/media/Constable.f6ac8dd7.png"},function(e,a,t){e.exports=t.p+"static/media/Count.67f8d8d4.png"},function(e,a,t){e.exports=t.p+"static/media/Countess.6e495d6c.png"},function(e,a,t){e.exports=t.p+"static/media/Dowager Queen.51a0834e.png"},function(e,a,t){e.exports=t.p+"static/media/Guard.13b4141c.png"},function(e,a,t){e.exports=t.p+"static/media/Handmaid.4af99d42.png"},function(e,a,t){e.exports=t.p+"static/media/Jester.845851da.png"},function(e,a,t){e.exports=t.p+"static/media/King.52d72f4c.png"},function(e,a,t){e.exports=t.p+"static/media/Priest.2ef7dd82.png"},function(e,a,t){e.exports=t.p+"static/media/Prince.fece33d0.png"},function(e,a,t){e.exports=t.p+"static/media/Princess.2f3b56ce.png"},function(e,a,t){e.exports=t.p+"static/media/Sycophant.09602aa7.png"},,,,,,,,,,,,,,,function(e,a,t){"use strict";t.r(a);var n,s,r=t(0),c=t.n(r),l=t(24),i=t.n(l),o=(t(38),t(6)),d=t(7),u=t(3),m=t(9),p=t(8),g=(t(13),t(14),t(11)),b=t(12),y=function(e){Object(m.a)(n,e);var a=Object(p.a)(n);function n(e){var t;return Object(o.a)(this,n),(t=a.call(this,e)).clickCard=function(){t.setState({opacity:.9}),console.log("inner click")},t.state={opacity:1},t.clickCard=t.clickCard.bind(Object(u.a)(t)),t}return Object(d.a)(n,[{key:"getCard",value:function(){return t(21)("./"+this.props.cardname+".png")}},{key:"render",value:function(){return c.a.createElement(b.a,{hoverable:"true",onClick:this.clickCard,style:{opacity:this.state.opacity},className:"Card-design"},c.a.createElement(b.a.Body,{style:{padding:0}},c.a.createElement(b.a.Img,{src:this.getCard()})))}}]),n}(c.a.Component),h=t(31),f={num_players:3,all_players:["p1","p2","p3"],all_cards:["Jester","Assassin","Guard","Priest","Princess","Baron"],player_points:{p1:0,p2:0,p3:0},played_cards:["Guard","Priest","Princess"],current_cards:{p1:"Priest",p2:"Jester",p3:"Baron"},draw_pile:["Assassin","Guard","Priest","Baron"]},C=function(e){Object(m.a)(n,e);var a=Object(p.a)(n);function n(){return Object(o.a)(this,n),a.apply(this,arguments)}return Object(d.a)(n,[{key:"getCard",value:function(e){return t(21)("./"+e+".png")}},{key:"render",value:function(){var e=this,a=f.played_cards;return" "!=this.props.addCard&&(a=[].concat(Object(h.a)(a),[this.props.addCard])),c.a.createElement("div",{className:"Card-carousel"},a.map((function(a){return c.a.createElement("div",{id:a},c.a.createElement(b.a,{style:{width:"6rem",marginLeft:"2px"}},c.a.createElement(b.a.Body,{style:{padding:0}},c.a.createElement(b.a.Img,{src:e.getCard(a)}))))})))}}]),n}(c.a.Component),k=t(10),E=(t(56),t(71)),w=function(e){Object(m.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).state={selectedPlayer:" "},n.selectPlayer=n.selectPlayer.bind(Object(u.a)(n)),n.endPlay=n.endPlay.bind(Object(u.a)(n)),n.getList=n.getList.bind(Object(u.a)(n)),n}return Object(d.a)(t,[{key:"selectPlayer",value:function(e){this.setState({selectedPlayer:e})}},{key:"endPlay",value:function(){var e={};e[this.state.selectedPlayer]=f.current_cards[this.state.selectedPlayer],e[this.props.currentPlayer]=this.props.cardRemaining,console.log(e);var a={};a[this.state.selectedPlayer]=1,a[this.props.currentPlayer]=-1,this.props.roundCallback(a)}},{key:"getList",value:function(){var e=this;return this.props.cardPlayed in["Assassin","Constable","Count","Countess","Handmaid","Princess"]?{}:("Baroness"==this.props.cardPlayed||this.props.cardPlayed,c.a.createElement(k.a,null,f.all_players.map((function(a,t){return c.a.createElement(k.a.Item,{action:!0,className:"List-item-design",key:a,onClick:function(t){return e.selectPlayer(a,t)}},a)}))))}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(E.a,{style:{margin:"auto"}},this.getList()),c.a.createElement(E.a,{style:{width:"50vw"}},c.a.createElement(g.a,{size:"lg",block:!0,className:"Confirm-button",onClick:this.endPlay},"OK")))}}]),t}(c.a.Component),v=t(72),O=t(73),P=function(e){Object(m.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).discard=function(){n.setState({discardMode:!0}),console.log("Discarding "+n.state.cardToPlay)},n.endPlay=function(){n.setState({discardMode:!1}),console.log("Ending Play")},n.playCardCallback=function(e){n.setState({results:e,winner:"p1"})," "!=n.state.winner?n.props.gameCallback(n.state.winner):n.endPlay()},n.state={opacity:1,cardToPlay:" ",cardRemaining:" ",discardMode:!1,currentPlayer:"p1",playStatus:"p1 is discarding",results:f.player_points,winner:"p1"},n.drawCard=n.drawCard.bind(Object(u.a)(n)),n.selectCard=n.selectCard.bind(Object(u.a)(n)),n.discard=n.discard.bind(Object(u.a)(n)),n.endPlay=n.endPlay.bind(Object(u.a)(n)),n.playCardCallback=n.playCardCallback.bind(Object(u.a)(n)),n}return Object(d.a)(t,[{key:"drawCard",value:function(){var e=f.draw_pile[0];return console.log(f.draw_pile.splice(0,0)),e}},{key:"selectCard",value:function(e,a){this.setState({cardToPlay:e,cardRemaining:a,opacity:.9}),console.log("Clicked "+this.state.cardToPlay)}},{key:"render",value:function(){var e=this,a=f.current_cards[this.state.currentPlayer],t=this.drawCard();return console.log("in round"),this.state.discardMode?c.a.createElement(v.a,{className:"Game-header"},c.a.createElement(E.a,null,c.a.createElement(C,{addCard:this.state.cardToPlay})),c.a.createElement(E.a,null,c.a.createElement("h4",{className:"Play-status"},this.state.playStatus)),c.a.createElement(w,{currentPlayer:this.state.currentPlayer,cardPlayed:this.state.cardToPlay,cardRemaining:this.state.cardRemaining,roundCallback:this.playCardCallback})):c.a.createElement(v.a,{className:"Game-header"},c.a.createElement(E.a,null,c.a.createElement(C,{addCard:" "})),c.a.createElement(E.a,null,c.a.createElement("h4",{className:"Play-status"},this.state.playStatus)),c.a.createElement(E.a,null,c.a.createElement(O.a,{style:{display:"inline-flex"},onClick:function(n){return e.selectCard(a,t,n)}},c.a.createElement(y,{cardname:a})),c.a.createElement(O.a,{style:{display:"inline-flex"},onClick:function(n){return e.selectCard(t,a,n)}},c.a.createElement(y,{cardname:t}))),c.a.createElement(E.a,{style:{width:"50vw"}},c.a.createElement(g.a,{size:"lg",block:!0,className:"Confirm-button",disabled:" "==this.state.cardToPlay,onClick:this.discard},"Discard")))}}]),t}(c.a.Component),j=new(t(29).w3cwebsocket)(("https:"===window.location.protocol?"wss://":"ws://")+window.location.host+"/ws");j.onopen=function(){console.log("WebSocket Client Connected")},n=j,s="hey",function e(a,t){setTimeout((function(){1===a.readyState?(console.log("Connection is made"),null!=t&&t()):(console.log("wait for connection..."),e(a,t))}),5)}((function(){console.log("message sent!!!"),n.send(s)}));var S=j,G=function(e){Object(m.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).startGame=function(){n.props.gameCallback(1)},n.startNewGame=function(){n.props.gameCallback(0)},n.endGame=function(){n.setState({gameOn:!1})},n.state={gameOn:!0},n.startGame=n.startGame.bind(Object(u.a)(n)),n.startNewGame=n.startNewGame.bind(Object(u.a)(n)),n.endGame=n.endGame.bind(Object(u.a)(n)),n.all_players=[],S.send("join"),S.onmessage=function(e){n.all_players=e.in,console.log(e.in)},n}return Object(d.a)(t,[{key:"render",value:function(){return this.props.toStartGame?c.a.createElement(v.a,{className:"Game-header"},c.a.createElement(E.a,{style:{margin:"auto"}},c.a.createElement("h4",{className:"Play-status"},"Waiting For Players...")),c.a.createElement(E.a,{style:{margin:"auto"}},c.a.createElement(k.a,null,this.all_players.map((function(e,a){return c.a.createElement(k.a.Item,{className:"List-item-design"},e)})))),c.a.createElement(E.a,{style:{width:"50vw"}},c.a.createElement(g.a,{size:"lg",block:!0,className:"Confirm-button",onClick:this.startGame},"Start Game"))):c.a.createElement(v.a,{className:"Game-header"},c.a.createElement(E.a,{style:{margin:"auto"}},c.a.createElement("h4",{className:"Play-status"},this.props.final_winner," won the game!")),c.a.createElement(E.a,{style:{margin:"auto"}},c.a.createElement(O.a,null,c.a.createElement(g.a,{size:"lg",style:{width:"30vw"},block:!0,className:"Confirm-button",onClick:this.endGame},"Leave Game")),c.a.createElement(O.a,null,c.a.createElement(g.a,{size:"lg",style:{width:"30vw"},block:!0,className:"Confirm-button",onClick:this.startNewGame},"Start New Game"))))}}]),t}(c.a.Component),N=t(20),_=(t(66),function(e){Object(m.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).sendResults=n.sendResults.bind(Object(u.a)(n)),n}return Object(d.a)(t,[{key:"sendResults",value:function(e){console.log("Sent winner="+e),this.props.gameCallback(e)}},{key:"render",value:function(){var e=this,a=this.props.points,t="p1";return Object.entries(a).map((function(e){var n=Object(N.a)(e,2),s=n[0],r=n[1];r>=4&&(t=s);for(var c="",l=0;l<r;l++)c+="*";a[s]=c})),c.a.createElement(v.a,{className:"Game-header"},c.a.createElement(E.a,{style:{margin:"auto"}},c.a.createElement("h4",{className:"Play-status"},this.props.winner,"'s letter reached the Princess!")),c.a.createElement(E.a,{style:{margin:"auto"}},c.a.createElement(k.a,null,Object.entries(a).map((function(e){var a=Object(N.a)(e,2),t=a[0],n=a[1];return c.a.createElement(k.a.Item,{className:"List-item-design"},c.a.createElement(O.a,{style:{display:"inline"}},t),c.a.createElement(O.a,{style:{display:"inline"}},n))})))),c.a.createElement(E.a,{style:{width:"50vw"}}," "!=t?c.a.createElement(g.a,{size:"lg",block:!0,className:"Confirm-button",onClick:function(a){return e.sendResults(t,a)}},"OK"):c.a.createElement(g.a,{size:"lg",block:!0,className:"Confirm-button",onClick:function(a){return e.sendResults(t,a)}},"Start Next Round")))}}]),t}(c.a.Component)),x=function(e){Object(m.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).landingCallback=function(e){n.setState({gameStatus:e})},n.roundCallback=function(e){var a=e,t=n.state.points;t[a]=t[a]+1,n.setState({rounds_played:n.state.rounds_played+1,points:t,gameStatus:2,round_winner:a})},n.resultsCallback=function(e){" "!=e?(n.setState({gameStatus:3,round_winner:e}),console.log("results="+e),console.log("set state=3")):(n.setState({gameStatus:1}),console.log("set state=1"))},n.state={gameStatus:0,toStartGame:!0,rounds_played:0,points:f.player_points,round_winner:" "},n.landingCallback=n.landingCallback.bind(Object(u.a)(n)),n.roundCallback=n.roundCallback.bind(Object(u.a)(n)),n.resultsCallback=n.resultsCallback.bind(Object(u.a)(n)),n}return Object(d.a)(t,[{key:"render",value:function(){return 0==this.state.gameStatus?c.a.createElement(G,{toStartGame:this.state.toStartGame,gameCallback:this.landingCallback}):1==this.state.gameStatus?c.a.createElement(P,{gameCallback:this.roundCallback}):2==this.state.gameStatus?c.a.createElement(_,{points:this.state.points,winner:this.state.round_winner,gameCallback:this.resultsCallback}):c.a.createElement(G,{toStartGame:!1,final_winner:this.state.round_winner,gameCallback:this.landingCallback})}}]),t}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[33,1,2]]]);
//# sourceMappingURL=main.c535c04d.chunk.js.map